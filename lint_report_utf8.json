
> stay-productive@0.1.0 lint
> eslint --format json

[{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\accounts\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\ai-intelligence\\page.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":50,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":50,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2032,2045],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2747,2750],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2747,2750],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":74,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":74,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2882,2895],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":95,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":95,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[3498,3511],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4246,4249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4246,4249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4649,4652],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4649,4652],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":146,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":146,"endColumn":26,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[5136,5149],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":228,"column":117,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":228,"endColumn":120,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11057,11060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11057,11060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":237,"column":113,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":237,"endColumn":116,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11881,11884],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11881,11884],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { IntelligenceSource, CreatorRadar, DiscoveryLog, WeeklyTrend, DiscoveryCategory, DiscoveryAction, getWeekNumber } from '@/lib/models';\r\nimport * as db from '@/lib/db';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\n\r\nexport default function AIIntelligencePage() {\r\n    const { intelligenceSources: sources, discoveryLogs: logs, loadAll } = useProductivity();\r\n    const [radar, setRadar] = useState<CreatorRadar[]>([]);\r\n    const [trend, setTrend] = useState<WeeklyTrend | null>(null);\r\n\r\n    const currentYear = new Date().getFullYear();\r\n    const currentWeek = getWeekNumber();\r\n\r\n    // Load Extras\r\n    useEffect(() => {\r\n        async function loadExtras() {\r\n            const r = await db.fetchCreatorRadar();\r\n            setRadar(r);\r\n            const t = await db.fetchWeeklyTrend(currentWeek, currentYear);\r\n            if (t) setTrend(t);\r\n        }\r\n        loadExtras();\r\n    }, [currentWeek, currentYear]);\r\n\r\n    // Form States\r\n    const [showSourceModal, setShowSourceModal] = useState(false);\r\n    const [showRadarModal, setShowRadarModal] = useState(false);\r\n\r\n    // Log Form Terminology Simplified\r\n    const [logTitle, setLogTitle] = useState('');\r\n    const [logLink, setLogLink] = useState('');\r\n    const [logSummary, setLogSummary] = useState('');\r\n    const [logCategory, setLogCategory] = useState<DiscoveryCategory>('Tool');\r\n    const [logAction, setLogAction] = useState<DiscoveryAction>('Test Tool');\r\n\r\n    const handleAddSource = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n        const newSource: IntelligenceSource = {\r\n            id: '',\r\n            name: formData.get('name') as string,\r\n            url: formData.get('url') as string,\r\n            description: formData.get('description') as string,\r\n            checkedThisWeek: false,\r\n            lastResetDate: new Date().toISOString()\r\n        };\r\n\r\n        // @ts-ignore\r\n        delete newSource.id;\r\n        await db.addIntelligenceSource(newSource as IntelligenceSource);\r\n        setShowSourceModal(false);\r\n        loadAll();\r\n    };\r\n\r\n    const handleToggleSource = async (source: IntelligenceSource) => {\r\n        await db.updateIntelligenceSource({ ...source, checkedThisWeek: !source.checkedThisWeek });\r\n        loadAll();\r\n    };\r\n\r\n    const handleAddRadar = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n        const newRadar: CreatorRadar = {\r\n            id: '',\r\n            name: formData.get('name') as string,\r\n            platform: formData.get('platform') as any,\r\n            topic: formData.get('topic') as string,\r\n            notes: '',\r\n            status: 'Active'\r\n        };\r\n\r\n        // @ts-ignore\r\n        delete newRadar.id;\r\n        await db.addCreatorRadar(newRadar as CreatorRadar);\r\n        setShowRadarModal(false);\r\n\r\n        const r = await db.fetchCreatorRadar();\r\n        setRadar(r);\r\n    };\r\n\r\n    const handleLogDiscovery = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const newLog: DiscoveryLog = {\r\n            id: '',\r\n            title: logTitle,\r\n            link: logLink,\r\n            summary: logSummary,\r\n            category: logCategory,\r\n            actionRequired: logAction,\r\n            createdAt: new Date().toISOString()\r\n        };\r\n\r\n        // @ts-ignore\r\n        delete newLog.id;\r\n        await db.addDiscoveryLog(newLog as DiscoveryLog);\r\n\r\n        const today = new Date().toISOString().split('T')[0];\r\n\r\n        if (logAction === 'Test Tool') {\r\n            await db.addAITool({\r\n                id: '',\r\n                name: logTitle,\r\n                official_url: logLink,\r\n                category: 'Other',\r\n                pricing: 'Freemium',\r\n                rating: 0,\r\n                status: 'Discovered',\r\n                tested: false,\r\n                review_written: false,\r\n                blog_published: false,\r\n                social_post_published: false,\r\n                notes: logSummary,\r\n                createdAt: new Date().toISOString()\r\n            } as any);\r\n        } else if (logAction === 'Monitor') {\r\n            await db.addTask({\r\n                id: '',\r\n                title: `Monitor: ${logTitle}`,\r\n                category: 'AINews',\r\n                priority: 'medium',\r\n                completed: false,\r\n                isSubTask: false,\r\n                date: today,\r\n                createdAt: new Date().toISOString()\r\n            } as any);\r\n        }\r\n\r\n        setLogTitle('');\r\n        setLogLink('');\r\n        setLogSummary('');\r\n        loadAll();\r\n    };\r\n\r\n    const handleSaveTrend = async () => {\r\n        if (!trend) {\r\n            const newTrend: WeeklyTrend = {\r\n                id: '',\r\n                weekNumber: currentWeek,\r\n                year: currentYear,\r\n                synthesis: 'Emerging patterns...',\r\n                topTools: [],\r\n                actionItems: []\r\n            };\r\n            // @ts-ignore\r\n            delete newTrend.id;\r\n            await db.saveWeeklyTrend(newTrend as WeeklyTrend);\r\n            const t = await db.fetchWeeklyTrend(currentWeek, currentYear);\r\n            if (t) setTrend(t);\r\n        } else {\r\n            await db.saveWeeklyTrend(trend);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[hsl(var(--bg-darker))]\">\r\n            {/* Subtle Backdrop Animation */}\r\n            <div className=\"fixed inset-0 overflow-hidden pointer-events-none opacity-10 dark:opacity-20\">\r\n                <div className=\"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-[hsl(var(--primary))] blur-[150px] rounded-full animate-pulse\" />\r\n                <div className=\"absolute bottom-[10%] right-[-5%] w-[40%] h-[40%] bg-[hsl(var(--accent))] blur-[130px] rounded-full animate-pulse\" style={{ animationDelay: '3s' }} />\r\n            </div>\r\n\r\n            <div className=\"relative p-6 md:p-10 max-w-[1600px] mx-auto space-y-10\">\r\n                {/* Header Section */}\r\n                <header className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <div className=\"h-1.5 w-1.5 rounded-full bg-[hsl(var(--primary))] animate-ping\" />\r\n                            <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-[hsl(var(--primary))] opacity-70\">Live Tracker</span>\r\n                        </div>\r\n                        <h1 className=\"text-4xl md:text-5xl font-black tracking-tight\">\r\n                            AI News & <span className=\"text-gradient\">Tools</span>\r\n                        </h1>\r\n                        <p className=\"text-[hsl(var(--text-secondary))] font-medium text-lg max-w-xl\">\r\n                            The best way to track findings and tools in the fast-moving AI space.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"px-6 py-4 rounded-2xl bg-[hsl(var(--card-bg))]/40 backdrop-blur-md border border-[hsl(var(--border-color))] flex gap-8 items-center\">\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"text-2xl font-black text-[hsl(var(--primary))]\">{sources.length}</span>\r\n                                <span className=\"text-[10px] uppercase font-bold opacity-40\">Trusted Sites</span>\r\n                            </div>\r\n                            <div className=\"w-px h-8 bg-[hsl(var(--border-color))]\" />\r\n                            <div className=\"flex flex-col\">\r\n                                <span className=\"text-2xl font-black text-[hsl(var(--accent))]\">{logs.length}</span>\r\n                                <span className=\"text-[10px] uppercase font-bold opacity-40\">Total Findings</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\r\n\r\n                    {/* LEFT SIDE: Input & Feed */}\r\n                    <div className=\"lg:col-span-8 space-y-8\">\r\n\r\n                        {/* New Finding Form */}\r\n                        <div className=\"card p-8 relative overflow-hidden group\">\r\n                            <div className=\"absolute top-0 right-0 p-6 opacity-5 pointer-events-none group-hover:opacity-10 transition-opacity\">\r\n                                <svg width=\"80\" height=\"80\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\"><path d=\"M12 5v14M5 12h14\" /></svg>\r\n                            </div>\r\n                            <h2 className=\"text-xl font-black mb-6 flex items-center gap-2 italic\">\r\n                                Add New Finding\r\n                            </h2>\r\n                            <form onSubmit={handleLogDiscovery} className=\"space-y-5\">\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40 ml-1\">Title</label>\r\n                                        <input value={logTitle} onChange={e => setLogTitle(e.target.value)} placeholder=\"Name of tool or news...\" className=\"input-field bg-white/5\" required />\r\n                                    </div>\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40 ml-1\">URL / Link</label>\r\n                                        <input value={logLink} onChange={e => setLogLink(e.target.value)} placeholder=\"https://...\" className=\"input-field bg-white/5\" />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-1.5\">\r\n                                    <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40 ml-1\">Short Description</label>\r\n                                    <textarea value={logSummary} onChange={e => setLogSummary(e.target.value)} placeholder=\"Why is this important? What does it do?\" className=\"input-field bg-white/5 min-h-[100px]\" />\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n                                    <div className=\"space-y-1.5\">\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40 ml-1\">Category</label>\r\n                                        <select value={logCategory} onChange={e => setLogCategory(e.target.value as any)} className=\"input-field bg-white/5\">\r\n                                            <option value=\"Tool\">Tool</option>\r\n                                            <option value=\"News\">News</option>\r\n                                            <option value=\"Tutorial\">Tutorial</option>\r\n                                            <option value=\"Paper\">Research Paper</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"space-y-1.5 col-span-1 md:col-span-2\">\r\n                                        <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40 ml-1\">Next Step</label>\r\n                                        <select value={logAction} onChange={e => setLogAction(e.target.value as any)} className=\"input-field bg-[hsl(var(--primary))]/5 border-[hsl(var(--primary))]/20 text-[hsl(var(--primary))] font-black\">\r\n                                            <option value=\"Test Tool\">Try it out myself</option>\r\n                                            <option value=\"Monitor\">Keep an eye on this</option>\r\n                                            <option value=\"Ignore\">Just archive for later</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <button type=\"submit\" className=\"w-full btn-primary py-4 font-black text-lg tracking-widest shadow-xl shadow-[hsl(var(--primary))]/20 ring-1 ring-white/10 uppercase\">Save Finding</button>\r\n                            </form>\r\n                        </div>\r\n\r\n                        {/* Recent Findings List */}\r\n                        <div className=\"space-y-4\">\r\n                            <h2 className=\"text-sm font-black uppercase tracking-[0.2em] opacity-40 ml-1\">Recent Updates</h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                {logs.slice(0, 8).map(log => (\r\n                                    <div key={log.id} className=\"p-5 rounded-2xl bg-[hsl(var(--card-bg))]/40 backdrop-blur-md border border-[hsl(var(--border-color))] hover:border-[hsl(var(--primary))]/40 hover:shadow-lg transition-all group relative overflow-hidden\">\r\n                                        <div className=\"absolute top-0 left-0 w-1 h-full bg-[hsl(var(--primary))]/30 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                                        <div className=\"flex justify-between items-start mb-3\">\r\n                                            <span className=\"px-2 py-0.5 rounded bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] text-[9px] font-black uppercase tracking-widest\">\r\n                                                {log.category}\r\n                                            </span>\r\n                                            <span className=\"text-[9px] font-bold opacity-30\">{new Date(log.createdAt).toLocaleDateString()}</span>\r\n                                        </div>\r\n                                        <h3 className=\"font-bold text-[hsl(var(--text-primary))] group-hover:text-[hsl(var(--primary))] transition-colors mb-2 line-clamp-1\">\r\n                                            {log.link ? <a href={log.link} target=\"_blank\" className=\"hover:underline flex items-center gap-1\">\r\n                                                {log.title} <svg width=\"10\" height=\"10\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\"><path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" /><polyline points=\"15 3 21 3 21 9\" /><line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" /></svg>\r\n                                            </a> : log.title}\r\n                                        </h3>\r\n                                        <p className=\"text-xs text-[hsl(var(--text-secondary))] line-clamp-2 leading-relaxed opacity-80\">{log.summary}</p>\r\n                                    </div>\r\n                                ))}\r\n                                {logs.length === 0 && (\r\n                                    <div className=\"col-span-full py-12 text-center opacity-20 border-2 border-dashed border-[hsl(var(--border-color))] rounded-3xl\">\r\n                                        <p className=\"font-bold uppercase tracking-widest text-xs\">No findings yet. Start tracking above!</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    {/* RIGHT SIDE: Summary & Reference */}\r\n                    <div className=\"lg:col-span-4 space-y-8\">\r\n\r\n                        {/* Weekly Summary Notepad */}\r\n                        <div className=\"card p-8 border-t-4 border-t-[hsl(var(--accent))] bg-gradient-to-b from-[hsl(var(--card-bg))]/80 to-[hsl(var(--bg-dark))]/20\">\r\n                            <div className=\"flex justify-between items-center mb-6\">\r\n                                <div>\r\n                                    <h2 className=\"text-xl font-black italic\">Weekly Summary</h2>\r\n                                    <p className=\"text-[9px] font-bold opacity-30 uppercase tracking-widest mt-1\">Week {currentWeek} ÔÇó {currentYear}</p>\r\n                                </div>\r\n                                <button onClick={handleSaveTrend} className=\"px-5 py-2 bg-[hsl(var(--accent))] text-white rounded-xl text-[10px] font-black shadow-lg shadow-[hsl(var(--accent))]/20 hover:scale-105 transition-transform\">\r\n                                    SAVE NOTES\r\n                                </button>\r\n                            </div>\r\n                            <textarea\r\n                                value={trend?.synthesis || ''}\r\n                                onChange={(e) => setTrend(prev => prev ? { ...prev, synthesis: e.target.value } : {\r\n                                    id: '', weekNumber: currentWeek, year: currentYear, synthesis: e.target.value, topTools: [], actionItems: []\r\n                                })}\r\n                                placeholder=\"What are the biggest patterns you noticed this week? Any specific tools winning the race?\"\r\n                                className=\"w-full bg-white/5 border border-[hsl(var(--border-color))] rounded-2xl p-5 min-h-[280px] text-base leading-relaxed focus:outline-none focus:ring-2 focus:ring-[hsl(var(--accent))]/30 transition-all font-medium custom-scrollbar\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Resource Sidebar */}\r\n                        <div className=\"space-y-6\">\r\n\r\n                            {/* Trusted Sites */}\r\n                            <div className=\"card p-6 ring-1 ring-white/5\">\r\n                                <div className=\"flex justify-between items-center mb-5\">\r\n                                    <h3 className=\"text-sm font-black uppercase tracking-widest opacity-60\">Trusted Sites</h3>\r\n                                    <button onClick={() => setShowSourceModal(true)} className=\"w-8 h-8 flex items-center justify-center bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] rounded-xl hover:scale-110 transition-transform\">\r\n                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\"><path d=\"M12 5v14M5 12h14\" /></svg>\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"space-y-2 max-h-[250px] overflow-y-auto pr-1 custom-scrollbar\">\r\n                                    {sources.map(source => (\r\n                                        <div\r\n                                            key={source.id}\r\n                                            onClick={() => handleToggleSource(source)}\r\n                                            className={`flex items-center justify-between p-3 rounded-xl border transition-all cursor-pointer ${source.checkedThisWeek\r\n                                                    ? 'bg-green-500/5 border-green-500/10 opacity-50 grayscale'\r\n                                                    : 'bg-[hsl(var(--bg-dark))] border-[hsl(var(--border-color))]'\r\n                                                }`}\r\n                                        >\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className={`w-2 h-2 rounded-full ${source.checkedThisWeek ? 'bg-green-500' : 'bg-red-500 animate-pulse'}`} />\r\n                                                <span className={`text-xs font-bold ${source.checkedThisWeek ? 'line-through' : ''}`}>{source.name}</span>\r\n                                            </div>\r\n                                            <a href={source.url} target=\"_blank\" onClick={e => e.stopPropagation()} className=\"opacity-30 hover:opacity-100 hover:text-[hsl(var(--primary))] transition-all\">\r\n                                                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" /><polyline points=\"15 3 21 3 21 9\" /><line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" /></svg>\r\n                                            </a>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* People to Watch */}\r\n                            <div className=\"card p-6 bg-[hsl(var(--primary))]/5 border-[hsl(var(--primary))]/10\">\r\n                                <div className=\"flex justify-between items-center mb-5\">\r\n                                    <h3 className=\"text-sm font-black uppercase tracking-widest opacity-60\">People to Watch</h3>\r\n                                    <button onClick={() => setShowRadarModal(true)} className=\"text-[10px] font-black px-3 py-1 bg-white/10 rounded-lg hover:bg-white/20 transition-colors uppercase\">Add Person</button>\r\n                                </div>\r\n                                <div className=\"space-y-3\">\r\n                                    {radar.map(r => (\r\n                                        <div key={r.id} className=\"flex items-center justify-between p-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/10\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <span className=\"text-xs\">\r\n                                                    {r.platform === 'X' ? '­ØòÅ' : r.platform === 'YouTube' ? 'ÔûÂ' : 'ÔÇó'}\r\n                                                </span>\r\n                                                <span className=\"text-xs font-bold\">{r.name}</span>\r\n                                            </div>\r\n                                            <span className=\"text-[8px] font-black opacity-40 uppercase\">{r.topic}</span>\r\n                                        </div>\r\n                                    ))}\r\n                                    {radar.length === 0 && <p className=\"text-[10px] text-center opacity-30 italic py-4\">No people tracked yet.</p>}\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Simple Modals */}\r\n            {showSourceModal && (\r\n                <div className=\"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center p-4 z-50\">\r\n                    <div className=\"card p-10 w-full max-w-md border-2 border-[hsl(var(--primary))]/30\">\r\n                        <div className=\"flex justify-between items-center mb-8\">\r\n                            <h3 className=\"text-2xl font-black italic tracking-tight\">Add Trusted Site</h3>\r\n                            <button onClick={() => setShowSourceModal(false)} className=\"opacity-40 hover:opacity-100\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" /></svg></button>\r\n                        </div>\r\n                        <form onSubmit={handleAddSource} className=\"space-y-5\">\r\n                            <div className=\"space-y-1.5\">\r\n                                <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Name</label>\r\n                                <input name=\"name\" placeholder=\"E.g. TLDR Crypto\" className=\"input-field\" required />\r\n                            </div>\r\n                            <div className=\"space-y-1.5\">\r\n                                <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Link</label>\r\n                                <input name=\"url\" placeholder=\"https://...\" className=\"input-field\" required />\r\n                            </div>\r\n                            <div className=\"space-y-1.5\">\r\n                                <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Brief Note</label>\r\n                                <input name=\"description\" placeholder=\"What is this site for?\" className=\"input-field\" />\r\n                            </div>\r\n                            <button type=\"submit\" className=\"w-full btn-primary py-4 rounded-xl font-black tracking-widest uppercase\">Add Site</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {showRadarModal && (\r\n                <div className=\"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center p-4 z-50\">\r\n                    <div className=\"card p-10 w-full max-w-md border-2 border-[hsl(var(--accent))]/30\">\r\n                        <div className=\"flex justify-between items-center mb-8\">\r\n                            <h3 className=\"text-2xl font-black italic tracking-tight\">Add Person to Watch</h3>\r\n                            <button onClick={() => setShowRadarModal(false)} className=\"opacity-40 hover:opacity-100\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" /><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" /></svg></button>\r\n                        </div>\r\n                        <form onSubmit={handleAddRadar} className=\"space-y-5\">\r\n                            <div className=\"space-y-1.5\">\r\n                                <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Name</label>\r\n                                <input name=\"name\" placeholder=\"Creator Name\" className=\"input-field\" required />\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <div className=\"space-y-1.5\">\r\n                                    <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Platform</label>\r\n                                    <select name=\"platform\" className=\"input-field\">\r\n                                        <option value=\"X\">­ØòÅ / Twitter</option>\r\n                                        <option value=\"YouTube\">YouTube</option>\r\n                                        <option value=\"LinkedIn\">LinkedIn</option>\r\n                                        <option value=\"Blog\">Personal Blog</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"space-y-1.5\">\r\n                                    <label className=\"text-[10px] font-black uppercase tracking-widest opacity-40\">Main Topic</label>\r\n                                    <input name=\"topic\" placeholder=\"e.g. LLMs\" className=\"input-field\" required />\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"w-full bg-[hsl(var(--accent))] text-white py-4 rounded-xl font-black tracking-widest uppercase\">Start Watching</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\ai-toolbox\\page.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":47,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":47,"endColumn":26,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[2178,2191],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":78,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3381,3384],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3381,3384],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":89,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3792,3795],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3792,3795],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { AITool, ToolCategory, ToolStatus, ToolPricing } from '@/lib/models';\r\nimport * as db from '@/lib/db';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\n\r\nconst CATEGORIES: ToolCategory[] = ['Agent', 'Coding', 'Automation', 'Design', 'Writing', 'DevOps', 'Other'];\r\nconst STATUSES: ToolStatus[] = ['Discovered', 'Testing', 'Reviewed', 'Published'];\r\nconst PRICING: ToolPricing[] = ['Free', 'Freemium', 'Paid'];\r\n\r\nexport default function AIToolboxPage() {\r\n    const { aiTools: tools, loadAll } = useProductivity();\r\n    // Note: loadAll refreshes everything. We might want a specific loadTools, but loadAll works.\r\n\r\n    const [filterCategory, setFilterCategory] = useState<ToolCategory | 'All'>('All');\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingTool, setEditingTool] = useState<AITool | null>(null);\r\n\r\n    const filteredTools = filterCategory === 'All'\r\n        ? tools\r\n        : tools.filter(t => t.category === filterCategory);\r\n\r\n    const handleSaveTool = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n\r\n        const newTool: AITool = {\r\n            id: editingTool?.id || '',\r\n            name: formData.get('name') as string,\r\n            official_url: formData.get('official_url') as string,\r\n            category: formData.get('category') as ToolCategory,\r\n            pricing: formData.get('pricing') as ToolPricing,\r\n            rating: parseInt(formData.get('rating') as string) || 0,\r\n            status: formData.get('status') as ToolStatus,\r\n            tested: formData.get('tested') === 'on',\r\n            review_written: formData.get('review_written') === 'on',\r\n            blog_published: formData.get('blog_published') === 'on',\r\n            social_post_published: formData.get('social_post_published') === 'on',\r\n            notes: formData.get('notes') as string,\r\n            createdAt: editingTool?.createdAt || new Date().toISOString()\r\n        };\r\n\r\n        if (editingTool) {\r\n            await db.updateAITool(newTool);\r\n        } else {\r\n            // @ts-ignore\r\n            delete newTool.id;\r\n            await db.addAITool(newTool as AITool);\r\n        }\r\n\r\n        setIsModalOpen(false);\r\n        setEditingTool(null);\r\n        loadAll();\r\n    };\r\n\r\n    const updateStatus = async (tool: AITool, newStatus: ToolStatus) => {\r\n        await db.updateAITool({ ...tool, status: newStatus });\r\n        loadAll();\r\n    };\r\n\r\n    const toggleLifecycle = async (tool: AITool, field: keyof Pick<AITool, 'tested' | 'review_written' | 'blog_published' | 'social_post_published'>) => {\r\n        const updated = { ...tool, [field]: !tool[field] };\r\n\r\n        // Automation: If marked as Tested, auto-create tasks\r\n        if (field === 'tested' && updated.tested && !tool.tested) {\r\n            // We need to add tasks via DB\r\n            const today = new Date().toISOString().split('T')[0];\r\n            await db.addTask({\r\n                id: '', // let db gen\r\n                title: `Write Review: ${tool.name}`,\r\n                category: 'AINews',\r\n                priority: 'high',\r\n                completed: false,\r\n                isSubTask: false,\r\n                date: today,\r\n                createdAt: new Date().toISOString()\r\n            } as any); // cast to avoid ID issue if any\r\n\r\n            await db.addTask({\r\n                id: '',\r\n                title: `Create Social Post: ${tool.name}`,\r\n                category: 'OnlinePresence',\r\n                priority: 'medium',\r\n                completed: false,\r\n                isSubTask: false,\r\n                date: today,\r\n                createdAt: new Date().toISOString()\r\n            } as any);\r\n\r\n            updated.status = 'Testing';\r\n        }\r\n\r\n        await db.updateAITool(updated);\r\n        loadAll();\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6 md:p-10 max-w-7xl mx-auto min-h-screen\">\r\n            <header className=\"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-4xl font-black tracking-tight text-[hsl(var(--text-primary))]\">\r\n                        AI Tools <span className=\"text-[hsl(var(--primary))]\">v1</span>\r\n                    </h1>\r\n                    <p className=\"text-[hsl(var(--text-secondary))] font-medium mt-2\">\r\n                        Curated Arsenal. Test, Review, Dominate.\r\n                    </p>\r\n                </div>\r\n                <button\r\n                    onClick={() => { setEditingTool(null); setIsModalOpen(true); }}\r\n                    className=\"flex items-center gap-2 px-6 py-3 bg-[hsl(var(--primary))] text-white rounded-xl font-bold hover:shadow-lg hover:shadow-[hsl(var(--primary))]/20 hover:-translate-y-1 transition-all\"\r\n                >\r\n                    + Add Tool\r\n                </button>\r\n            </header>\r\n\r\n            {/* Filters */}\r\n            <div className=\"flex gap-2 overflow-x-auto pb-4 mb-8 custom-scrollbar\">\r\n                {(['All', ...CATEGORIES] as const).map(cat => (\r\n                    <button\r\n                        key={cat}\r\n                        onClick={() => setFilterCategory(cat)}\r\n                        className={`px-4 py-2 rounded-xl text-xs font-bold uppercase tracking-wider whitespace-nowrap transition-all border ${filterCategory === cat\r\n                            ? 'bg-[hsl(var(--primary))] text-white border-[hsl(var(--primary))]'\r\n                            : 'bg-[hsl(var(--card-bg))] border-[hsl(var(--border-color))] hover:border-[hsl(var(--text-muted))]'\r\n                            }`}\r\n                    >\r\n                        {cat}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Tools Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {filteredTools.map(tool => (\r\n                    <div key={tool.id} className=\"bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] rounded-3xl p-6 hover:shadow-xl transition-all group relative\">\r\n                        <div className=\"flex justify-between items-start mb-4\">\r\n                            <span className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] bg-[hsl(var(--primary))]/10 px-2 py-1 rounded\">\r\n                                {tool.category}\r\n                            </span>\r\n                            <span className={`text-[10px] font-bold uppercase tracking-wider ${tool.pricing === 'Free' ? 'text-green-500' : tool.pricing === 'Paid' ? 'text-red-500' : 'text-orange-500'\r\n                                }`}>\r\n                                {tool.pricing}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <h3 className=\"text-2xl font-black tracking-tight mb-2 flex items-center gap-2\">\r\n                            {tool.name}\r\n                            <a href={tool.official_url} target=\"_blank\" className=\"text-[hsl(var(--text-muted))] hover:text-[hsl(var(--primary))]\">\r\n                                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" /></svg>\r\n                            </a>\r\n                        </h3>\r\n\r\n                        {/* Rating */}\r\n                        <div className=\"flex gap-1 mb-4 text-xs text-yellow-500\">\r\n                            {[1, 2, 3, 4, 5].map(star => (\r\n                                <span key={star}>{star <= tool.rating ? 'Ôÿà' : 'Ôÿå'}</span>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Lifecycle */}\r\n                        <div className=\"space-y-2 mb-6 bg-[hsl(var(--bg-dark))] p-4 rounded-xl\">\r\n                            <div className=\"text-[10px] font-bold uppercase tracking-widest text-[hsl(var(--text-muted))] mb-2\">Lifecycle</div>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <button\r\n                                    onClick={() => toggleLifecycle(tool, 'tested')}\r\n                                    className={`text-[10px] font-bold px-2 py-1 rounded border transition-all ${tool.tested ? 'bg-green-500/20 border-green-500/50 text-green-500' : 'border-[hsl(var(--border-color))] text-[hsl(var(--text-muted))]'}`}\r\n                                >\r\n                                    {tool.tested ? 'Ô£ô Tested' : 'Ôùï Tested'}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => toggleLifecycle(tool, 'review_written')}\r\n                                    className={`text-[10px] font-bold px-2 py-1 rounded border transition-all ${tool.review_written ? 'bg-blue-500/20 border-blue-500/50 text-blue-500' : 'border-[hsl(var(--border-color))] text-[hsl(var(--text-muted))]'}`}\r\n                                >\r\n                                    {tool.review_written ? 'Ô£ô Reviewed' : 'Ôùï Reviewed'}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => toggleLifecycle(tool, 'blog_published')}\r\n                                    className={`text-[10px] font-bold px-2 py-1 rounded border transition-all ${tool.blog_published ? 'bg-purple-500/20 border-purple-500/50 text-purple-500' : 'border-[hsl(var(--border-color))] text-[hsl(var(--text-muted))]'}`}\r\n                                >\r\n                                    {tool.blog_published ? 'Ô£ô Blogged' : 'Ôùï Blogged'}\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => toggleLifecycle(tool, 'social_post_published')}\r\n                                    className={`text-[10px] font-bold px-2 py-1 rounded border transition-all ${tool.social_post_published ? 'bg-pink-500/20 border-pink-500/50 text-pink-500' : 'border-[hsl(var(--border-color))] text-[hsl(var(--text-muted))]'}`}\r\n                                >\r\n                                    {tool.social_post_published ? 'Ô£ô Posted' : 'Ôùï Posted'}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Footer Actions */}\r\n                        <div className=\"flex justify-between items-center pt-4 border-t border-[hsl(var(--border-color))]\">\r\n                            <select\r\n                                value={tool.status}\r\n                                onChange={(e) => updateStatus(tool, e.target.value as ToolStatus)}\r\n                                className=\"bg-transparent text-xs font-bold text-[hsl(var(--text-secondary))] outline-none cursor-pointer hover:text-[hsl(var(--primary))]\"\r\n                            >\r\n                                {STATUSES.map(s => <option key={s} value={s}>{s}</option>)}\r\n                            </select>\r\n                            <button\r\n                                onClick={() => { setEditingTool(tool); setIsModalOpen(true); }}\r\n                                className=\"text-xs font-bold text-[hsl(var(--text-muted))] hover:text-[hsl(var(--primary))]\"\r\n                            >\r\n                                Edit\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Modal */}\r\n            {isModalOpen && (\r\n                <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\r\n                    <div className=\"bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] w-full max-w-lg rounded-3xl p-8 shadow-2xl animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto\">\r\n                        <h2 className=\"text-2xl font-black mb-6\">{editingTool ? 'Edit Tool' : 'Add AI Tool'}</h2>\r\n                        <form onSubmit={handleSaveTool} className=\"space-y-4\">\r\n                            <input name=\"name\" required defaultValue={editingTool?.name} className=\"input-field\" placeholder=\"Tool Name\" />\r\n                            <input name=\"official_url\" defaultValue={editingTool?.official_url} className=\"input-field\" placeholder=\"Official URL\" />\r\n\r\n                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                <select name=\"category\" defaultValue={editingTool?.category || 'Agent'} className=\"input-field\">\r\n                                    {CATEGORIES.map(c => <option key={c} value={c}>{c}</option>)}\r\n                                </select>\r\n                                <select name=\"pricing\" defaultValue={editingTool?.pricing || 'Freemium'} className=\"input-field\">\r\n                                    {PRICING.map(p => <option key={p} value={p}>{p}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"text-xs font-bold uppercase tracking-widest text-[hsl(var(--text-muted))]\">Rating (1-5)</label>\r\n                                <input name=\"rating\" type=\"number\" min=\"1\" max=\"5\" defaultValue={editingTool?.rating || 0} className=\"input-field mt-1\" />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"text-xs font-bold uppercase tracking-widest text-[hsl(var(--text-muted))]\">Status</label>\r\n                                <select name=\"status\" defaultValue={editingTool?.status || 'Discovered'} className=\"input-field mt-1\">\r\n                                    {STATUSES.map(s => <option key={s} value={s}>{s}</option>)}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <textarea name=\"notes\" defaultValue={editingTool?.notes} className=\"input-field min-h-[100px]\" placeholder=\"Key features, pros/cons...\" />\r\n\r\n                            {/* Checkboxes for lifecycle (mostly for initial add) */}\r\n                            <div className=\"grid grid-cols-2 gap-2 text-sm pt-2\">\r\n                                <label className=\"flex items-center gap-2\"><input type=\"checkbox\" name=\"tested\" defaultChecked={editingTool?.tested} /> Tested</label>\r\n                                <label className=\"flex items-center gap-2\"><input type=\"checkbox\" name=\"review_written\" defaultChecked={editingTool?.review_written} /> Review Written</label>\r\n                                <label className=\"flex items-center gap-2\"><input type=\"checkbox\" name=\"blog_published\" defaultChecked={editingTool?.blog_published} /> Blog Published</label>\r\n                                <label className=\"flex items-center gap-2\"><input type=\"checkbox\" name=\"social_post_published\" defaultChecked={editingTool?.social_post_published} /> Social Posted</label>\r\n                            </div>\r\n\r\n                            <div className=\"flex gap-4 pt-4\">\r\n                                <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"px-4 py-2 rounded-xl font-bold hover:bg-white/5 transition-colors\">Cancel</button>\r\n                                <button type=\"submit\" className=\"px-4 py-2 bg-[hsl(var(--primary))] text-white rounded-xl font-bold flex-1\">Save Tool</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\calendar\\page.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\calendar\\page.tsx:18:9\n  16 |\n  17 |     useEffect(() => {\n> 18 |         setIsFreelanceMode(storage.isFreelanceClientActive());\n     |         ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  19 |     }, []);\n  20 |\n  21 |     if (!isLoaded) {","line":18,"column":9,"nodeType":null,"endLine":18,"endColumn":27}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\nimport {\r\n    Task, TaskCategory, CATEGORY_ICONS, WEEKLY_TEMPLATE,\r\n    formatDate, getTodayString\r\n} from '@/lib/models';\r\nimport * as storage from '@/lib/storage'; // Keeping for local preference (freelance mode)\r\n\r\nexport default function Calendar() {\r\n    const { tasks, isLoaded } = useProductivity();\r\n    const [currentDate, setCurrentDate] = useState(new Date());\r\n    const [selectedDayDetail, setSelectedDayDetail] = useState<{ date: string, tasks: (Task & { isPlanned?: boolean })[] } | null>(null);\r\n    const [isFreelanceMode, setIsFreelanceMode] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setIsFreelanceMode(storage.isFreelanceClientActive());\r\n    }, []);\r\n\r\n    if (!isLoaded) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"text-2xl text-gradient font-bold flex flex-col items-center gap-4\">\r\n                    <div>Loading Temporal Map...</div>\r\n                    <div className=\"text-sm text-[hsl(var(--text-muted))] font-normal\">Syncing with Supabase</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();\r\n    const firstDayOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1).getDay();\r\n    const monthName = currentDate.toLocaleString('default', { month: 'long' });\r\n    const year = currentDate.getFullYear();\r\n\r\n    const prevMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));\r\n    const nextMonth = () => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));\r\n\r\n    const days = [];\r\n    // Add empty slots for the beginning of the month\r\n    for (let i = 0; i < firstDayOfMonth; i++) {\r\n        days.push(null);\r\n    }\r\n    // Add actual days\r\n    for (let d = 1; d <= daysInMonth; d++) {\r\n        days.push(d);\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 md:p-10 max-w-7xl mx-auto\">\r\n            {/* Executive Header */}\r\n            <header className=\"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n                        <span className=\"w-2 h-2 rounded-full bg-[hsl(var(--primary))] animate-pulse\" />\r\n                        Planning Architecture\r\n                    </div>\r\n                    <h1 className=\"text-4xl md:text-5xl font-black tracking-tight text-[hsl(var(--text-primary))]\">\r\n                        Growth <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--secondary))]\">Calendar</span>\r\n                    </h1>\r\n                    <p className=\"text-[hsl(var(--text-secondary))] font-medium\">\r\n                        Mapping {tasks.length} objectives across the temporal landscape.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center bg-[hsl(var(--bg-dark))] rounded-2xl border border-[hsl(var(--border-color))] p-1 shadow-sm\">\r\n                        <button onClick={prevMonth} className=\"w-10 h-10 flex items-center justify-center hover:bg-[hsl(var(--border-color))] rounded-xl transition-all text-lg font-bold\">ÔåÉ</button>\r\n                        <span className=\"px-6 font-black min-w-[160px] text-center text-sm uppercase tracking-widest text-[hsl(var(--text-primary))]\">\r\n                            {monthName} {year}\r\n                        </span>\r\n                        <button onClick={nextMonth} className=\"w-10 h-10 flex items-center justify-center hover:bg-[hsl(var(--border-color))] rounded-xl transition-all text-lg font-bold\">ÔåÆ</button>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Calendar Grid Section */}\r\n            <section className=\"card p-6 md:p-8 shadow-xl overflow-x-auto border-[hsl(var(--border-color))]\">\r\n                <div className=\"min-w-[900px]\">\r\n                    {/* Weekdays */}\r\n                    <div className=\"grid grid-cols-7 mb-6\">\r\n                        {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(d => (\r\n                            <div key={d} className=\"text-center text-[10px] font-black uppercase tracking-[0.3em] text-[hsl(var(--text-muted))] py-2\">\r\n                                {d}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Grid Days */}\r\n                    <div className=\"grid grid-cols-7 gap-3\">\r\n                        {days.map((day, i) => {\r\n                            if (day === null) return <div key={`empty-${i}`} className=\"h-40 rounded-3xl bg-[hsl(var(--bg-dark))]/40 border border-dashed border-[hsl(var(--border-color))]/50\" />;\r\n\r\n                            const date = new Date(year, currentDate.getMonth(), day);\r\n                            const dateStr = `${year}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\r\n                            const dayTasksFromStorage = tasks.filter(t => t.date === dateStr);\r\n                            const isToday = dateStr === getTodayString();\r\n\r\n                            const weekdayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n                            const weekday = weekdayNames[date.getDay()];\r\n                            const templateTasks = WEEKLY_TEMPLATE[weekday] || [];\r\n\r\n                            const displayTasks = dayTasksFromStorage.length > 0\r\n                                ? dayTasksFromStorage\r\n                                : templateTasks.map(t => ({\r\n                                    ...t,\r\n                                    id: `planned-${dateStr}-${t.title}`,\r\n                                    completed: false,\r\n                                    date: dateStr,\r\n                                    isPlanned: true\r\n                                }));\r\n\r\n                            return (\r\n                                <div\r\n                                    key={dateStr}\r\n                                    className={`h-40 rounded-[2rem] border-2 p-4 flex flex-col transition-all group cursor-pointer hover:shadow-xl hover:-translate-y-1 duration-300 ${isToday\r\n                                        ? 'border-[hsl(var(--primary))] bg-[hsl(var(--primary))]/5 shadow-lg shadow-[hsl(var(--primary))]/5'\r\n                                        : 'border-[hsl(var(--border-color))] bg-[hsl(var(--card-bg))]'\r\n                                        }`}\r\n                                    onClick={() => setSelectedDayDetail({ date: dateStr, tasks: displayTasks })}\r\n                                >\r\n                                    <div className=\"flex justify-between items-center mb-4\">\r\n                                        <span className={`text-xl font-black ${isToday ? 'text-[hsl(var(--primary))]' : 'text-[hsl(var(--text-secondary))]'}`}>\r\n                                            {day}\r\n                                        </span>\r\n                                        {displayTasks.length > 0 && (\r\n                                            <div className=\"w-1.5 h-1.5 rounded-full bg-[hsl(var(--primary))] animate-pulse\" />\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"space-y-1.5 overflow-hidden flex-1\">\r\n                                        {displayTasks.slice(0, 3).map((task: Task & { isPlanned?: boolean }) => (\r\n                                            <div\r\n                                                key={task.id}\r\n                                                className={`text-[9px] px-2.5 py-1.5 rounded-xl flex items-center gap-2 border transition-all ${task.completed\r\n                                                    ? 'bg-emerald-500/5 text-emerald-600 border-emerald-500/10 grayscale-[0.5]'\r\n                                                    : isFreelanceMode && (task.category === 'Freelancing' || task.category === 'Lead')\r\n                                                        ? 'bg-[hsl(var(--text-muted))]/10 text-[hsl(var(--text-muted))] border-[hsl(var(--border-color))] opacity-70'\r\n                                                        : task.isPlanned\r\n                                                            ? 'bg-[hsl(var(--bg-dark))] text-[hsl(var(--text-muted))] border-dashed border-[hsl(var(--border-color))]'\r\n                                                            : 'bg-[hsl(var(--primary))]/5 text-[hsl(var(--primary))] border-[hsl(var(--primary))]/10 font-bold'\r\n                                                    }`}\r\n                                            >\r\n                                                <span className=\"flex-shrink-0 text-[10px]\">{CATEGORY_ICONS[task.category as TaskCategory]}</span>\r\n                                                <span className=\"truncate uppercase tracking-tighter\">{task.title}</span>\r\n                                            </div>\r\n                                        ))}\r\n                                        {displayTasks.length > 3 && (\r\n                                            <div className=\"text-[9px] font-black text-[hsl(var(--text-muted))] px-2 uppercase tracking-widest pt-1\">\r\n                                                + {displayTasks.length - 3} more\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {displayTasks.length > 0 && (\r\n                                        <div className=\"mt-3 pt-3 border-t border-[hsl(var(--border-color))] flex justify-between items-center\">\r\n                                            <div className=\"h-1 flex-1 bg-[hsl(var(--border-color))] rounded-full overflow-hidden mr-3\">\r\n                                                <div\r\n                                                    className=\"h-full bg-[hsl(var(--primary))] transition-all duration-500\"\r\n                                                    style={{ width: `${Math.round((displayTasks.filter(t => t.completed).length / displayTasks.length) * 100)}%` }}\r\n                                                />\r\n                                            </div>\r\n                                            <span className=\"text-[9px] font-black text-[hsl(var(--text-muted))]\">\r\n                                                {displayTasks.filter(t => t.completed).length}/{displayTasks.length}\r\n                                            </span>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Metrics & Taxonomy Footer */}\r\n            <footer className=\"mt-12 grid grid-cols-1 lg:grid-cols-12 gap-10\">\r\n                <section className=\"lg:col-span-4 space-y-6\">\r\n                    <h3 className=\"text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] px-2\">Taxonomy</h3>\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                        {Object.entries(CATEGORY_ICONS).map(([cat, icon]) => (\r\n                            <div key={cat} className=\"p-4 bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] rounded-2xl flex items-center gap-3 transition-colors hover:bg-[hsl(var(--card-bg))] shadow-sm\">\r\n                                <span className=\"text-xl\">{icon}</span>\r\n                                <span className=\"text-[10px] font-bold uppercase tracking-wider text-[hsl(var(--text-primary))]\">{cat}</span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"lg:col-span-8 flex flex-col justify-between p-10 bg-[#0f172a] rounded-[40px] text-white shadow-2xl relative overflow-hidden ring-1 ring-white/10\">\r\n                    <div className=\"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-[hsl(var(--primary))]/20 to-transparent rounded-full blur-3xl -mr-32 -mt-32\" />\r\n\r\n                    <div className=\"relative z-10\">\r\n                        <h3 className=\"text-xs font-bold uppercase tracking-[0.3em] opacity-40 mb-10 text-white\">Project Intelligence</h3>\r\n                        <div className=\"grid grid-cols-3 gap-12\">\r\n                            <div>\r\n                                <div className=\"text-5xl font-black tracking-tighter mb-2\">{tasks.length}</div>\r\n                                <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] opacity-50\">Total Objectives</div>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"text-5xl font-black tracking-tighter mb-2\">{tasks.filter(t => t.completed).length}</div>\r\n                                <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] opacity-50\">Achievements</div>\r\n                            </div>\r\n                            <div>\r\n                                <div className=\"text-5xl font-black tracking-tighter mb-2\">\r\n                                    {Math.round((tasks.filter(t => t.completed).length / tasks.length) * 100) || 0}%\r\n                                </div>\r\n                                <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] opacity-50\">Efficiency Factor</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"mt-12 flex items-center gap-4 relative z-10\">\r\n                        <div className=\"flex -space-x-3\">\r\n                            {[1, 2, 3, 4].map(i => (\r\n                                <div key={i} className={`w-8 h-8 rounded-full border-2 border-white/20 bg-gradient-to-br from-[hsl(var(--primary))] to-[hsl(var(--secondary))] opacity-${100 - (i * 20)}`} />\r\n                            ))}\r\n                        </div>\r\n                        <span className=\"text-xs font-medium opacity-60\">Visualizing recursive performance optimization</span>\r\n                    </div>\r\n                </section>\r\n            </footer>\r\n\r\n            {/* Day Detail Modal */}\r\n            {selectedDayDetail && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-6 bg-[hsl(var(--bg-dark))]/80 backdrop-blur-xl animate-in fade-in duration-500\">\r\n                    <div className=\"bg-[hsl(var(--card-bg))] w-full max-w-4xl rounded-[40px] border border-[hsl(var(--border-color))] shadow-2xl relative animate-in zoom-in-95 duration-300 overflow-hidden\">\r\n                        <div className=\"p-10\">\r\n                            <header className=\"flex justify-between items-start mb-10\">\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n                                        ­ƒôà Objective Overview\r\n                                    </div>\r\n                                    <h2 className=\"text-4xl font-black tracking-tight\">{formatDate(selectedDayDetail.date)}</h2>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setSelectedDayDetail(null)}\r\n                                    className=\"w-12 h-12 flex items-center justify-center rounded-2xl bg-[hsl(var(--bg-dark))] hover:bg-[hsl(var(--border-color))] transition-colors text-3xl\"\r\n                                >\r\n                                    ├ù\r\n                                </button>\r\n                            </header>\r\n\r\n                            <div className=\"space-y-4 max-h-[50vh] overflow-y-auto pr-4 custom-scrollbar\">\r\n                                {selectedDayDetail.tasks.length > 0 ? (\r\n                                    selectedDayDetail.tasks.map((task) => (\r\n                                        <div\r\n                                            key={task.id}\r\n                                            className={`p-6 rounded-3xl border-2 transition-all flex items-center gap-5 ${task.completed\r\n                                                ? 'bg-emerald-500/5 border-emerald-500/10 grayscale-[0.5]'\r\n                                                : isFreelanceMode && (task.category === 'Freelancing' || task.category === 'Lead')\r\n                                                    ? 'bg-[hsl(var(--bg-dark))] border-[hsl(var(--border-color))] opacity-60'\r\n                                                    : task.isPlanned\r\n                                                        ? 'bg-[hsl(var(--bg-dark))] border-dashed border-[hsl(var(--border-color))]'\r\n                                                        : 'bg-[hsl(var(--card-bg))] border-[hsl(var(--border-color))] shadow-sm'\r\n                                                }`}\r\n                                        >\r\n                                            <div className=\"w-12 h-12 rounded-2xl bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] flex items-center justify-center text-2xl\">\r\n                                                {CATEGORY_ICONS[task.category as TaskCategory]}\r\n                                            </div>\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex justify-between items-start mb-1\">\r\n                                                    <div className={`text-lg font-bold ${task.completed ? 'line-through text-emerald-800/60' : 'text-[hsl(var(--text-primary))]'}`}>\r\n                                                        {task.title}\r\n                                                    </div>\r\n                                                    {task.isPlanned && (\r\n                                                        <span className=\"text-[10px] bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] px-3 py-1 rounded-full uppercase font-black tracking-widest\">\r\n                                                            Routine\r\n                                                        </span>\r\n                                                    )}\r\n                                                    {isFreelanceMode && (task.category === 'Freelancing' || task.category === 'Lead') && !task.completed && (\r\n                                                        <span className=\"text-[10px] bg-[hsl(var(--text-muted))]/10 text-[hsl(var(--text-muted))] px-2 py-0.5 rounded-full uppercase font-bold tracking-widest border border-[hsl(var(--border-color))]\">\r\n                                                            Optional\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div className=\"text-[10px] font-black uppercase tracking-[0.2em] text-[hsl(var(--text-muted))]\">\r\n                                                    {task.category}\r\n                                                </div>\r\n                                            </div>\r\n                                            {task.completed && (\r\n                                                <div className=\"w-8 h-8 rounded-full bg-emerald-500 text-white flex items-center justify-center font-bold\">Ô£ô</div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center py-20 bg-[hsl(var(--bg-dark))] rounded-3xl border border-dashed border-[hsl(var(--border-color))]\">\r\n                                        <div className=\"text-4xl mb-4 opacity-20\">­ƒôà</div>\r\n                                        <p className=\"text-[hsl(var(--text-muted))] font-bold uppercase tracking-widest text-xs\">No entries for this cycle</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            <footer className=\"mt-10 pt-8 border-t border-[hsl(var(--border-color))] flex justify-end\">\r\n                                <button\r\n                                    onClick={() => setSelectedDayDetail(null)}\r\n                                    className=\"h-14 bg-[hsl(var(--primary))] text-white px-10 rounded-2xl transition-all font-bold uppercase text-xs tracking-[0.2em] hover:scale-[1.02] shadow-xl shadow-[hsl(var(--primary))/0.2]\"\r\n                                >\r\n                                    Acknowledge\r\n                                </button>\r\n                            </footer>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\documents\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AppDocument' is defined but never used.","line":5,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":53,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AppDocument"},"fix":{"range":[147,160],"text":""},"desc":"Remove unused variable \"AppDocument\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\nimport { DocumentType, DocumentLanguage, AppDocument } from '@/lib/models';\r\nimport * as db from '@/lib/db';\r\n\r\nconst DOCUMENT_SLOTS: { type: DocumentType; languages: DocumentLanguage[] }[] = [\r\n    {\r\n        type: 'CV',\r\n        languages: ['English', 'French (FR)', 'French (CA)']\r\n    },\r\n    {\r\n        type: 'CoverLetter',\r\n        languages: ['English', 'French']\r\n    },\r\n    {\r\n        type: 'Diploma',\r\n        languages: ['General']\r\n    },\r\n    {\r\n        type: 'Certificate',\r\n        languages: ['General']\r\n    }\r\n];\r\n\r\nconst SLOT_ICONS: Record<DocumentType, string> = {\r\n    CV: '­ƒôä',\r\n    CoverLetter: 'Ô£ë´©Å',\r\n    Diploma: '­ƒÄô',\r\n    Certificate: '­ƒô£'\r\n};\r\n\r\nconst SLOT_TITLES: Record<DocumentType, string> = {\r\n    CV: 'Curriculum Vitae',\r\n    CoverLetter: 'Cover Letters',\r\n    Diploma: 'Diplomas & Degrees',\r\n    Certificate: 'Certifications'\r\n};\r\n\r\nconst LANG_ICONS: Record<string, string> = {\r\n    'English': '­ƒç¼­ƒçº',\r\n    'French (FR)': '­ƒç½­ƒçÀ',\r\n    'French (CA)': '­ƒç¿­ƒçª',\r\n    'French': '­ƒç½­ƒçÀ',\r\n    'General': '­ƒîÉ',\r\n    'N/A': '­ƒôé'\r\n};\r\n\r\nexport default function DocumentsPage() {\r\n    const { documents, isLoaded, loadAll } = useProductivity();\r\n    const [uploading, setUploading] = useState<{ type: DocumentType; lang: DocumentLanguage } | null>(null);\r\n\r\n    if (!isLoaded) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"text-2xl text-gradient font-bold flex flex-col items-center gap-4\">\r\n                    <div>Loading Valut...</div>\r\n                    <div className=\"text-sm text-[hsl(var(--text-muted))] font-normal\">Decrypting assets from Supabase</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>, type: DocumentType, language: DocumentLanguage) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setUploading({ type, lang: language });\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = async (event) => {\r\n            const content = event.target?.result as string;\r\n\r\n            // Delete existing doc for this slot if it exists\r\n            const existing = documents.find(d => d.type === type && d.language === language);\r\n            if (existing) {\r\n                await db.deleteDocument(existing.id);\r\n            }\r\n\r\n            await db.addDocument({\r\n                id: crypto.randomUUID(),\r\n                name: file.name,\r\n                type,\r\n                language,\r\n                fileContent: content,\r\n                fileName: file.name,\r\n                fileSize: file.size,\r\n                updatedAt: new Date().toISOString()\r\n            });\r\n\r\n            loadAll();\r\n            setUploading(null);\r\n        };\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (confirm('Are you sure you want to remove this document from the vault?')) {\r\n            await db.deleteDocument(id);\r\n            loadAll();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6 md:p-10 max-w-7xl mx-auto\">\r\n            {/* Executive Header */}\r\n            <header className=\"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n                        <span className=\"w-2 h-2 rounded-full bg-[hsl(var(--primary))] animate-pulse\" />\r\n                        Assets & Credentials\r\n                    </div>\r\n                    <h1 className=\"text-4xl md:text-5xl font-black tracking-tight text-[hsl(var(--text-primary))]\">\r\n                        Document <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--secondary))]\">Vault</span>\r\n                    </h1>\r\n                    <p className=\"text-[hsl(var(--text-secondary))] font-medium\">\r\n                        Securely manage your professional artifacts across markets.\r\n                    </p>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-10\">\r\n                {DOCUMENT_SLOTS.map(slot => (\r\n                    <section key={slot.type} className=\"space-y-6\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className=\"w-12 h-12 rounded-2xl bg-[hsl(var(--primary))]/10 flex items-center justify-center text-2xl\">\r\n                                {SLOT_ICONS[slot.type]}\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-black tracking-tight\">{SLOT_TITLES[slot.type]}</h2>\r\n                                <p className=\"text-xs font-bold text-[hsl(var(--text-muted))] uppercase tracking-widest mt-1\">Strategic Deployment Files</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid gap-4\">\r\n                            {slot.languages.map(lang => {\r\n                                const doc = documents.find(d => d.type === slot.type && d.language === lang);\r\n                                const isThisUploading = uploading?.type === slot.type && uploading?.lang === lang;\r\n\r\n                                return (\r\n                                    <div\r\n                                        key={`${slot.type}-${lang}`}\r\n                                        className={`group relative p-6 bg-[hsl(var(--card-bg))] border rounded-[24px] transition-all duration-300 ${doc ? 'border-[hsl(var(--primary))]/20 shadow-lg shadow-[hsl(var(--primary))]/5' : 'border-[hsl(var(--border-color))] border-dashed hover:border-[hsl(var(--primary))]/40'}`}\r\n                                    >\r\n                                        <div className=\"flex justify-between items-center\">\r\n                                            <div className=\"flex gap-4 items-center\">\r\n                                                <div className={`w-10 h-10 rounded-xl flex items-center justify-center text-lg font-bold ${doc ? 'bg-[hsl(var(--primary))] text-white' : 'bg-[hsl(var(--bg-dark))] text-[hsl(var(--text-muted))]'}`}>\r\n                                                    {isThisUploading ? 'ÔÅ│' : (LANG_ICONS[lang] || '­ƒôé')}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold uppercase tracking-widest text-[hsl(var(--text-muted))] mb-1\">{lang} {slot.type}</div>\r\n                                                    {doc ? (\r\n                                                        <div className=\"text-sm font-black text-[hsl(var(--text-primary))] truncate max-w-[200px]\">\r\n                                                            {doc.fileName}\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <div className=\"text-sm font-bold text-[hsl(var(--text-muted))]\">{isThisUploading ? 'Encrypting...' : 'Missing Asset'}</div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex gap-2\">\r\n                                                {doc ? (\r\n                                                    <>\r\n                                                        <a\r\n                                                            href={doc.fileContent}\r\n                                                            download={doc.fileName}\r\n                                                            className=\"p-2.5 rounded-xl bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] hover:border-[hsl(var(--primary))]/50 hover:text-[hsl(var(--primary))] transition-all text-sm\"\r\n                                                            title=\"Download\"\r\n                                                        >\r\n                                                            ­ƒôÑ\r\n                                                        </a>\r\n                                                        <button\r\n                                                            onClick={() => handleDelete(doc.id)}\r\n                                                            className=\"p-2.5 rounded-xl bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] hover:border-red-500/50 hover:text-red-500 transition-all text-sm\"\r\n                                                            title=\"Delete\"\r\n                                                        >\r\n                                                            ­ƒùæ´©Å\r\n                                                        </button>\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <label className={`cursor-pointer p-2.5 px-4 rounded-xl bg-[hsl(var(--primary))] text-white text-[10px] font-black uppercase tracking-widest hover:scale-105 transition-all shadow-lg shadow-[hsl(var(--primary))]/20 ${isThisUploading ? 'opacity-50 cursor-not-allowed' : ''}`}>\r\n                                                        {isThisUploading ? '...' : 'Upload'}\r\n                                                        <input\r\n                                                            type=\"file\"\r\n                                                            className=\"hidden\"\r\n                                                            disabled={!!uploading}\r\n                                                            onChange={(e) => handleFileUpload(e, slot.type, lang)}\r\n                                                            accept=\".pdf,.doc,.docx\"\r\n                                                        />\r\n                                                    </label>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {doc && (\r\n                                            <div className=\"mt-4 pt-4 border-t border-[hsl(var(--border-color))] flex justify-between items-center text-[10px] font-bold text-[hsl(var(--text-muted))] uppercase tracking-tighter\">\r\n                                                <span>Size: {(doc.fileSize ? doc.fileSize / 1024 : 0).toFixed(1)} KB</span>\r\n                                                <span>Updated: {new Date(doc.updatedAt).toLocaleDateString()}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </section>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Empty State / Motivation */}\r\n            <div className=\"mt-16 p-10 text-center bg-[hsl(var(--bg-darker))] rounded-[40px] border-2 border-[hsl(var(--border-color))] border-dashed\">\r\n                <div className=\"text-4xl mb-4\">­ƒøí´©Å</div>\r\n                <h3 className=\"text-xl font-bold mb-2\">Safe Intelligence Deployment</h3>\r\n                <p className=\"max-w-xl mx-auto text-sm text-[hsl(var(--text-secondary))] leading-relaxed font-medium\">\r\n                    Keeping your dossiers up-to-date across all regional variations ensures you can strike fast when high-value opportunities arise.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":12,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":103,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5456,5509],"text":"\r\n                            Don&apos;t have an account? "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5456,5509],"text":"\r\n                            Don&lsquo;t have an account? "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5456,5509],"text":"\r\n                            Don&#39;t have an account? "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5456,5509],"text":"\r\n                            Don&rsquo;t have an account? "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const router = useRouter();\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n            email,\r\n            password,\r\n        });\r\n\r\n        if (error) {\r\n            console.error('Login error:', error.message);\r\n            setError(error.message);\r\n            setLoading(false);\r\n        } else {\r\n            console.log('Login successful, redirecting...');\r\n            // Using href for a full reload to ensure middleware reflects auth state\r\n            window.location.href = '/';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[hsl(var(--bg-darker))] flex items-center justify-center p-6 relative overflow-hidden\">\r\n            {/* Animated Background Elements */}\r\n            <div className=\"absolute inset-0 overflow-hidden pointer-events-none opacity-20\">\r\n                <div className=\"absolute top-[-10%] right-[-10%] w-[60%] h-[60%] bg-[hsl(var(--primary))] blur-[150px] rounded-full animate-pulse opacity-30\" />\r\n                <div className=\"absolute bottom-[-10%] left-[-10%] w-[50%] h-[50%] bg-[hsl(var(--accent))] blur-[130px] rounded-full animate-pulse opacity-20\" style={{ animationDelay: '2s' }} />\r\n            </div>\r\n\r\n            <div className=\"w-full max-w-md relative z-10\">\r\n                <div className=\"flex flex-col items-center mb-10\">\r\n                    <div className=\"w-16 h-16 rounded-2xl bg-gradient-to-br from-[hsl(var(--primary))] to-[hsl(var(--secondary))] flex items-center justify-center text-white shadow-2xl shadow-[hsl(var(--primary))]/30 mb-6 group hover:scale-110 transition-transform duration-500\">\r\n                        <span className=\"text-3xl font-black\">V</span>\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-black tracking-tighter text-white mb-2 italic\">\r\n                        VibeCode <span className=\"text-gradient\">OS</span>\r\n                    </h1>\r\n                    <p className=\"text-[hsl(var(--text-secondary))] font-bold uppercase tracking-[0.3em] text-[10px] opacity-60\">\r\n                        High-Performance Workspace\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"card-glass p-8 md:p-10 border-2 border-white/5 shadow-2xl backdrop-blur-2xl\">\r\n                    <h2 className=\"text-2xl font-black mb-8 italic tracking-tight\">Login</h2>\r\n\r\n                    <form onSubmit={handleLogin} className=\"space-y-6\">\r\n                        {error && (\r\n                            <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-500 text-xs font-bold animate-shake\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 ml-1\">Email Address</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"input-field bg-white/5 border-white/10 focus:border-[hsl(var(--primary))]/50\"\r\n                                placeholder=\"name@domain.com\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <label className=\"text-[10px] font-black uppercase tracking-[0.2em] opacity-40 ml-1\">Password</label>\r\n                            </div>\r\n                            <input\r\n                                type=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"input-field bg-white/5 border-white/10 focus:border-[hsl(var(--primary))]/50\"\r\n                                placeholder=\"ÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇóÔÇó\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"w-full btn-primary py-4 rounded-xl font-black tracking-widest uppercase shadow-xl shadow-[hsl(var(--primary))]/20 ring-1 ring-white/10 hover:scale-[1.02] transition-all disabled:opacity-50\"\r\n                        >\r\n                            {loading ? 'Authenticating...' : 'Enter Console'}\r\n                        </button>\r\n                    </form>\r\n\r\n                    <div className=\"mt-8 pt-8 border-t border-white/5 text-center\">\r\n                        <p className=\"text-[hsl(var(--text-secondary))] text-[11px] font-bold\">\r\n                            Don't have an account? <a href=\"/signup\" className=\"text-[hsl(var(--primary))] hover:underline\">Request Access</a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mt-10 text-center\">\r\n                    <p className=\"text-[10px] font-bold text-[hsl(var(--text-muted))] uppercase tracking-widest opacity-40\">\r\n                        &copy; 2026 VibeCode Corporation. All Rights Reserved.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\notes\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'NOTE_TYPE_ICONS' is defined but never used.","line":5,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":35,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"NOTE_TYPE_ICONS"},"fix":{"range":[125,142],"text":""},"desc":"Remove unused variable \"NOTE_TYPE_ICONS\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\nimport { NoteType, NOTE_TYPE_ICONS } from '@/lib/models';\r\nimport * as db from '@/lib/db';\r\n\r\nexport default function NotesPage() {\r\n    const { notes, isLoaded, loadAll } = useProductivity();\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [activeTab, setActiveTab] = useState<NoteType | 'All'>('All');\r\n    const [showAddForm, setShowAddForm] = useState(false);\r\n\r\n    if (!isLoaded) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"text-2xl text-gradient font-bold flex flex-col items-center gap-4\">\r\n                    <div>Loading Knowledge Base...</div>\r\n                    <div className=\"text-sm text-[hsl(var(--text-muted))] font-normal\">Syncing with Supabase</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const noteTypes: { type: NoteType; label: string; icon: string; color: string }[] = [\r\n        { type: 'AppIdea', label: 'App ideas', icon: '­ƒÆí', color: 'text-yellow-400' },\r\n        { type: 'SocialMedia', label: 'Social Content', icon: '­ƒô▒', color: 'text-blue-400' },\r\n        { type: 'DevOps', label: 'DevOps Learning', icon: 'ÔÜÖ´©Å', color: 'text-indigo-400' },\r\n        { type: 'Career', label: 'Career/Job', icon: '­ƒîì', color: 'text-green-400' },\r\n        { type: 'Improvement', label: 'App Improvement', icon: '­ƒøá´©Å', color: 'text-pink-400' },\r\n        { type: 'AiAutomation', label: 'AI Automation', icon: '­ƒñû', color: 'text-cyan-400' },\r\n        { type: 'General', label: 'General', icon: '­ƒôô', color: 'text-gray-400' },\r\n    ];\r\n\r\n    const filteredNotes = notes.filter(note => {\r\n        const matchesSearch = note.content.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n            note.videoName?.toLowerCase().includes(searchTerm.toLowerCase());\r\n        const matchesTab = activeTab === 'All' || note.type === activeTab;\r\n        return matchesSearch && matchesTab;\r\n    }).sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n\r\n    return (\r\n        <div className=\"p-6 md:p-10 max-w-7xl mx-auto\">\r\n            {/* Executive Header */}\r\n            <header className=\"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                <div className=\"space-y-1\">\r\n                    <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n                        <span className=\"w-2 h-2 rounded-full bg-[hsl(var(--primary))] animate-pulse\" />\r\n                        Knowledge Base\r\n                    </div>\r\n                    <h1 className=\"text-4xl md:text-5xl font-black tracking-tight text-[hsl(var(--text-primary))]\">\r\n                        Reflections & <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--secondary))]\">Nexus</span>\r\n                    </h1>\r\n                    <p className=\"text-[hsl(var(--text-secondary))] font-medium\">\r\n                        Systematizing {notes.length} items of captured intelligence.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    <button\r\n                        onClick={() => setShowAddForm(true)}\r\n                        className=\"btn btn-primary px-6 h-12 rounded-xl text-sm shadow-xl shadow-[hsl(var(--primary))]/20\"\r\n                    >\r\n                        + Capture Thought\r\n                    </button>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Content Layout */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-10\">\r\n                {/* Discovery Sidebar */}\r\n                <aside className=\"lg:col-span-3 space-y-8\">\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-4 px-2\">Discovery</h3>\r\n                        <div className=\"relative group\">\r\n                            <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-lg grayscale group-focus-within:grayscale-0 transition-all\">­ƒöì</span>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Query nexus...\"\r\n                                className=\"w-full pl-12 pr-4 h-12 bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] rounded-2xl text-sm font-medium focus:border-[hsl(var(--primary))]/50 outline-none transition-all shadow-sm\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section>\r\n                        <h3 className=\"text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-4 px-2\">Taxonomy</h3>\r\n                        <div className=\"space-y-1\">\r\n                            <button\r\n                                onClick={() => setActiveTab('All')}\r\n                                className={`w-full flex justify-between items-center px-4 py-3 rounded-xl text-sm font-bold transition-all group ${activeTab === 'All' ? 'bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))]' : 'hover:bg-[hsl(var(--bg-dark))] text-[hsl(var(--text-secondary))]'}`}\r\n                            >\r\n                                <span className=\"flex items-center gap-3\">\r\n                                    <span className={`text-lg transition-transform group-hover:scale-110 ${activeTab === 'All' ? '' : 'grayscale'}`}>­ƒôô</span>\r\n                                    Intelligence\r\n                                </span>\r\n                                <span className=\"text-[10px] font-black opacity-40\">{notes.length}</span>\r\n                            </button>\r\n                            {noteTypes.map(nt => (\r\n                                <button\r\n                                    key={nt.type}\r\n                                    onClick={() => setActiveTab(nt.type)}\r\n                                    className={`w-full flex justify-between items-center px-4 py-3 rounded-xl text-sm font-bold transition-all group ${activeTab === nt.type ? 'bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))]' : 'hover:bg-[hsl(var(--bg-dark))] text-[hsl(var(--text-secondary))]'}`}\r\n                                >\r\n                                    <span className=\"flex items-center gap-3\">\r\n                                        <span className={`text-lg transition-transform group-hover:scale-110 ${activeTab === nt.type ? '' : 'grayscale'}`}>{nt.icon}</span>\r\n                                        {nt.label}\r\n                                    </span>\r\n                                    <span className=\"text-[10px] font-black opacity-40\">\r\n                                        {notes.filter(n => n.type === nt.type).length}\r\n                                    </span>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </section>\r\n                </aside>\r\n\r\n                {/* Feed */}\r\n                <main className=\"lg:col-span-9 space-y-6\">\r\n                    {filteredNotes.length > 0 ? (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            {filteredNotes.map(note => {\r\n                                const nt = noteTypes.find(t => t.type === note.type) || noteTypes[6];\r\n                                return (\r\n                                    <div key={note.id} className=\"group card p-6 flex flex-col hover:border-[hsl(var(--primary))]/30 hover:shadow-lg transition-all duration-300 relative\">\r\n\r\n                                        <button\r\n                                            onClick={async () => {\r\n                                                if (confirm('Delete this note permanently?')) {\r\n                                                    await db.deleteNote(note.id);\r\n                                                    loadAll();\r\n                                                }\r\n                                            }}\r\n                                            className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 p-2 text-[10px] uppercase font-bold text-red-500 bg-red-500/10 rounded-lg transition-all hover:bg-red-500/20\"\r\n                                        >\r\n                                            Delete\r\n                                        </button>\r\n\r\n                                        <div className=\"flex justify-between items-start mb-6\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"w-10 h-10 rounded-xl bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] flex items-center justify-center text-xl transition-transform group-hover:scale-110 group-hover:rotate-3 duration-300\">\r\n                                                    {nt.icon}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))]\">\r\n                                                        {nt.label}\r\n                                                    </div>\r\n                                                    <div className=\"text-[10px] font-black opacity-40 uppercase tracking-tighter\">\r\n                                                        {new Date(note.createdAt).toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {note.timestamp && (\r\n                                                <span className=\"text-[10px] font-black bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] px-2.5 py-1 rounded-full uppercase tracking-widest mr-8\">\r\n                                                    ÔÅ▒´©Å {note.timestamp}\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {note.videoName && (\r\n                                            <div className=\"mb-4 inline-flex items-center gap-2 text-[11px] font-bold text-[hsl(var(--text-secondary))] bg-[hsl(var(--bg-dark))] px-3 py-1.5 rounded-lg border border-[hsl(var(--border-color))]\">\r\n                                                <span className=\"grayscale group-hover:grayscale-0 transition-all\">­ƒô║</span> {note.videoName}\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <p className=\"text-[15px] font-medium text-[hsl(var(--text-primary))] whitespace-pre-wrap flex-1 leading-relaxed\">\r\n                                            {note.content}\r\n                                        </p>\r\n\r\n                                        {note.taskId && (\r\n                                            <div className=\"mt-6 pt-5 border-t border-[hsl(var(--border-color))] flex items-center justify-between\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <span className=\"text-[9px] font-bold uppercase tracking-[0.2em] opacity-40\">Linked Project:</span>\r\n                                                    <span className=\"text-[10px] font-black text-[hsl(var(--text-primary))]\">{note.taskId.split('-')[0].toUpperCase()}</span>\r\n                                                </div>\r\n                                                <div className=\"w-2 h-2 rounded-full bg-[hsl(var(--border-color))] group-hover:bg-[hsl(var(--primary))] transition-colors\" />\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex flex-col items-center justify-center py-32 px-10 border-2 border-dashed border-[hsl(var(--border-color))] rounded-[40px] bg-[hsl(var(--card-bg))]/50\">\r\n                            <div className=\"text-6xl mb-6 grayscale opacity-40\">­ƒôô</div>\r\n                            <h3 className=\"text-2xl font-black tracking-tight mb-2\">Nexus Empty</h3>\r\n                            <p className=\"text-[hsl(var(--text-muted))] font-medium text-center\">Capture ideas, logs, and insights to build your intelligence base.</p>\r\n                        </div>\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            {/* Modal Overlay */}\r\n            {showAddForm && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-6 bg-[hsl(var(--bg-dark))]/60 backdrop-blur-md animate-in fade-in duration-300\">\r\n                    <div className=\"bg-[hsl(var(--card-bg))] w-full max-w-4xl rounded-[32px] border border-[hsl(var(--border-color))] shadow-2xl relative animate-in zoom-in-95 duration-300 overflow-hidden\">\r\n                        <div className=\"px-8 pt-8 pb-4\">\r\n                            <button\r\n                                onClick={() => setShowAddForm(false)}\r\n                                className=\"absolute top-8 right-8 w-10 h-10 flex items-center justify-center rounded-xl bg-[hsl(var(--bg-dark))] hover:bg-[hsl(var(--border-color))] transition-colors text-2xl\"\r\n                                aria-label=\"Close\"\r\n                            >\r\n                                ├ù\r\n                            </button>\r\n                            <CategorizedNoteForm\r\n                                onClose={() => {\r\n                                    setShowAddForm(false);\r\n                                    loadAll();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction CategorizedNoteForm({ onClose }: { onClose: () => void }) {\r\n    const [type, setType] = useState<NoteType>('General');\r\n    const [content, setContent] = useState('');\r\n    const [videoName, setVideoName] = useState('');\r\n    const [timestamp, setTimestamp] = useState('');\r\n\r\n    const noteTypes: { type: NoteType; label: string; icon: string }[] = [\r\n        { type: 'AppIdea', label: 'App ideas', icon: '­ƒÆí' },\r\n        { type: 'SocialMedia', label: 'Social Content', icon: '­ƒô▒' },\r\n        { type: 'DevOps', label: 'DevOps Learning', icon: 'ÔÜÖ´©Å' },\r\n        { type: 'Career', label: 'Career/Job', icon: '­ƒîì' },\r\n        { type: 'Improvement', label: 'App Improvement', icon: '­ƒøá´©Å' },\r\n        { type: 'AiAutomation', label: 'AI Automation', icon: '­ƒñû' },\r\n        { type: 'General', label: 'General', icon: '­ƒôô' },\r\n    ];\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!content.trim()) return;\r\n\r\n        await db.addNote({\r\n            id: crypto.randomUUID(),\r\n            content: content.trim(),\r\n            type,\r\n            videoName: type === 'DevOps' ? videoName : undefined,\r\n            timestamp: type === 'DevOps' ? timestamp : undefined,\r\n            createdAt: new Date().toISOString()\r\n        });\r\n\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n            <div className=\"text-center\">\r\n                <h2 className=\"text-3xl font-black tracking-tight\">Capture Insight</h2>\r\n                <p className=\"text-[hsl(var(--text-secondary))] mt-1\">Select taxonomy and articulate your thought.</p>\r\n            </div>\r\n\r\n            <div className=\"space-y-6\">\r\n                <section>\r\n                    <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-4 ml-1\">\r\n                        Taxonomy\r\n                    </label>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                        {noteTypes.map(nt => (\r\n                            <button\r\n                                key={nt.type}\r\n                                type=\"button\"\r\n                                onClick={() => setType(nt.type)}\r\n                                className={`flex items-center gap-3 px-4 py-3 rounded-2xl border text-xs font-bold transition-all ${type === nt.type\r\n                                    ? 'bg-[hsl(var(--primary))]/10 border-[hsl(var(--primary))]/30 text-[hsl(var(--primary))] shadow-sm'\r\n                                    : 'bg-[hsl(var(--bg-dark))] border-[hsl(var(--border-color))] hover:border-[hsl(var(--border-hover))] text-[hsl(var(--text-secondary))]'\r\n                                    }`}\r\n                            >\r\n                                <span className={`text-lg ${type === nt.type ? '' : 'grayscale'}`}>{nt.icon}</span>\r\n                                {nt.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </section>\r\n\r\n                {type === 'DevOps' && (\r\n                    <section className=\"grid grid-cols-2 gap-4 animate-in slide-in-from-top-4 duration-500\">\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">\r\n                                Video Source\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"input-field h-12 rounded-xl\"\r\n                                placeholder=\"e.g., K8s Internals\"\r\n                                value={videoName}\r\n                                onChange={e => setVideoName(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">\r\n                                Marker\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"input-field h-12 rounded-xl\"\r\n                                placeholder=\"e.g., 24:05\"\r\n                                value={timestamp}\r\n                                onChange={e => setTimestamp(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </section>\r\n                )}\r\n\r\n                <section>\r\n                    <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">\r\n                        Articulation\r\n                    </label>\r\n                    <textarea\r\n                        autoFocus\r\n                        className=\"textarea-field min-h-[300px] text-lg leading-relaxed rounded-2xl\"\r\n                        placeholder={\r\n                            type === 'AppIdea' ? 'What high-level concept are we exploring?' :\r\n                                type === 'SocialMedia' ? 'Draft your high-engagement narrative...' :\r\n                                    type === 'DevOps' ? 'Synthesize the core technical learning...' :\r\n                                        'Refinement, log or creative drift...'\r\n                        }\r\n                        value={content}\r\n                        onChange={e => setContent(e.target.value)}\r\n                    />\r\n                </section>\r\n            </div>\r\n\r\n            <footer className=\"grid grid-cols-2 gap-4 pt-6 mt-4 border-t border-[hsl(var(--border-color))]\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onClose}\r\n                    className=\"h-14 bg-[hsl(var(--bg-dark))] hover:bg-[hsl(var(--border-color))] rounded-2xl transition-all font-bold uppercase text-xs tracking-widest border border-[hsl(var(--border-color))]\"\r\n                >\r\n                    Discard\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"h-14 bg-[hsl(var(--primary))] text-white rounded-2xl transition-all font-bold uppercase text-xs tracking-widest shadow-lg shadow-[hsl(var(--primary))]/20 hover:scale-[1.02]\"\r\n                >\r\n                    Commit Note\r\n                </button>\r\n            </footer>\r\n        </form>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Note' is defined but never used.","line":6,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":13,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Note"},"fix":{"range":[135,141],"text":""},"desc":"Remove unused variable \"Note\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'PostIdea' is defined but never used.","line":7,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"PostIdea"},"fix":{"range":[151,164],"text":""},"desc":"Remove unused variable \"PostIdea\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Lead' is defined but never used.","line":7,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Lead"},"fix":{"range":[164,170],"text":""},"desc":"Remove unused variable \"Lead\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Project' is defined but never used.","line":7,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":26,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Project"},"fix":{"range":[170,179],"text":""},"desc":"Remove unused variable \"Project\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'generateId' is defined but never used.","line":10,"column":67,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":77,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"generateId"},"fix":{"range":[360,372],"text":""},"desc":"Remove unused variable \"generateId\"."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\page.tsx:33:5\n  31 |\n  32 |   useEffect(() => {\n> 33 |     setIsFreelanceMode(storage.isFreelanceClientActive());\n     |     ^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  34 |   }, []);\n  35 |\n  36 |   if (!isLoaded) {","line":33,"column":5,"nodeType":null,"endLine":33,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'completedSubTasks' is assigned a value but never used.","line":54,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":26},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":117,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4509,4528],"text":"\r\n            It&apos;s "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4509,4528],"text":"\r\n            It&lsquo;s "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4509,4528],"text":"\r\n            It&#39;s "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4509,4528],"text":"\r\n            It&rsquo;s "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":117,"column":45,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4550,4584],"text":". Let&apos;s make it count.\r\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4550,4584],"text":". Let&lsquo;s make it count.\r\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4550,4584],"text":". Let&#39;s make it count.\r\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4550,4584],"text":". Let&rsquo;s make it count.\r\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onViewNotes' is defined but never used.","line":387,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":387,"endColumn":59},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isNext' is assigned a value but never used.","line":686,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":686,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useProductivity } from '@/hooks/useVibeCode';\r\nimport {\r\n  Task, Note, NoteType,\r\n  PostIdea, Lead, Project,\r\n  TaskCategory, Video, VideoProgress,\r\n  CATEGORY_STYLES, CATEGORY_ICONS, NOTE_TYPE_ICONS, DEVOPS_LEARNING_PATH,\r\n  formatDate, getTodayString, WEEKLY_TEMPLATE, getCurrentWeekday, generateId\r\n} from '@/lib/models';\r\nimport * as db from '@/lib/db';\r\nimport * as storage from '@/lib/storage'; // Keep for freelance toggle only, or move to db?\r\n// storage.isFreelanceClientActive is local preference, can stay local.\r\n\r\nexport default function Home() {\r\n  const {\r\n    tasks, nextVideo, videoStats, progress, isLoaded,\r\n    loadAll, loadTasks, loadVideoData, videoProgress,\r\n    runMigration, isMigrating\r\n  } = useProductivity();\r\n\r\n  const [activePanel, setActivePanel] = useState<'none' | 'notes' | 'devopsPath'>('none');\r\n  const [selectedTask, setSelectedTask] = useState<Task | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalContent, setModalContent] = useState<React.ReactNode>(null);\r\n  const [isFreelanceMode, setIsFreelanceMode] = useState(false);\r\n\r\n  // Migration Feedback\r\n  const [migrationStatus, setMigrationStatus] = useState('');\r\n\r\n  useEffect(() => {\r\n    setIsFreelanceMode(storage.isFreelanceClientActive());\r\n  }, []);\r\n\r\n  if (!isLoaded) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-2xl text-gradient font-bold flex flex-col items-center gap-4\">\r\n          <div>Loading Productivity OS...</div>\r\n          <div className=\"text-sm text-[hsl(var(--text-muted))] font-normal\">Connecting to Supabase</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const todayStr = getTodayString();\r\n  const mainTasks = tasks.filter(t => !t.isSubTask && t.date === todayStr); // Filter for today\r\n  const subTasks = tasks.filter(t => t.isSubTask && t.date === todayStr);\r\n\r\n  const incompleteMainTasks = mainTasks.filter(t => !t.completed);\r\n  const incompleteSubTasks = subTasks.filter(t => !t.completed);\r\n  const completedMainTasks = mainTasks.filter(t => t.completed);\r\n  const completedSubTasks = subTasks.filter(t => t.completed);\r\n\r\n  const isRoutineComplete = incompleteMainTasks.filter(t =>\r\n    !isFreelanceMode || (t.category !== 'Freelancing' && t.category !== 'Lead')\r\n  ).length === 0;\r\n\r\n  const openModal = (content: React.ReactNode) => {\r\n    setModalContent(content);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setModalContent(null);\r\n    loadAll();\r\n  };\r\n\r\n  const handleToggleTask = async (taskId: string, currentStatus: boolean) => {\r\n    await db.updateTask({ id: taskId, completed: !currentStatus } as Task);\r\n    loadTasks();\r\n  };\r\n\r\n  const handleSyncTemplate = async () => {\r\n    if (!confirm('Sync with template will reset today\\'s routine. Continue?')) return;\r\n\r\n    // Delete today's main tasks\r\n    const todaysTasks = tasks.filter(t => t.date === todayStr && !t.isSubTask);\r\n    await Promise.all(todaysTasks.map(t => db.deleteTask(t.id)));\r\n\r\n    // Add template tasks\r\n    const weekday = getCurrentWeekday();\r\n    const template = WEEKLY_TEMPLATE[weekday] || [];\r\n\r\n    for (const t of template) {\r\n      await db.addTask({\r\n        id: crypto.randomUUID(),\r\n        title: t.title,\r\n        description: t.description,\r\n        category: t.category,\r\n        priority: t.priority,\r\n        completed: false,\r\n        date: todayStr,\r\n        isSubTask: false,\r\n        createdAt: new Date().toISOString()\r\n      } as Task);\r\n    }\r\n\r\n    loadTasks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 md:p-10 max-w-7xl mx-auto\">\r\n      {/* Executive Header */}\r\n      <header className=\"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n        <div className=\"space-y-1\">\r\n          <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n            <span className=\"w-2 h-2 rounded-full bg-[hsl(var(--primary))] animate-pulse\" />\r\n            Active Productivity Session\r\n          </div>\r\n          <h1 className=\"text-4xl md:text-5xl font-black tracking-tight text-[hsl(var(--text-primary))]\">\r\n            Good Morning, <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--secondary))]\">Tim</span>\r\n          </h1>\r\n          <p className=\"text-[hsl(var(--text-secondary))] font-medium\">\r\n            It's {formatDate(todayStr)}. Let's make it count.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Migration Button (Temporary) */}\r\n          <button\r\n            onClick={async () => {\r\n              if (confirm('Migrate local data to Supabase? This might duplicate data if run twice.')) {\r\n                setMigrationStatus('Migrating...');\r\n                await runMigration();\r\n                setMigrationStatus('Done!');\r\n                setTimeout(() => setMigrationStatus(''), 3000);\r\n              }\r\n            }}\r\n            disabled={isMigrating}\r\n            className=\"text-xs font-bold text-[hsl(var(--text-muted))] hover:text-[hsl(var(--primary))]\"\r\n          >\r\n            {isMigrating ? 'Migrating...' : migrationStatus || 'Ôÿü´©Å Migrate Data'}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleSyncTemplate}\r\n            className=\"flex items-center gap-2 px-4 py-2.5 bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] rounded-xl text-xs font-bold text-[hsl(var(--text-secondary))] hover:text-[hsl(var(--text-primary))] hover:border-[hsl(var(--border-hover))] transition-all shadow-sm\"\r\n          >\r\n            ­ƒöä Sync Template\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => {\r\n              const newState = !isFreelanceMode;\r\n              setIsFreelanceMode(newState);\r\n              storage.setFreelanceClientActive(newState); // Keep local preference\r\n            }}\r\n            className={`flex items-center gap-2 px-4 py-2.5 border rounded-xl text-xs font-bold transition-all shadow-sm ${isFreelanceMode\r\n              ? 'bg-[hsl(var(--primary))]/10 border-[hsl(var(--primary))]/30 text-[hsl(var(--primary))]'\r\n              : 'bg-[hsl(var(--card-bg))] border-[hsl(var(--border-color))] text-[hsl(var(--text-secondary))] hover:text-[hsl(var(--text-primary))]'\r\n              }`}\r\n          >\r\n            {isFreelanceMode ? '­ƒñØ Client Active' : '­ƒöì Seeking Client'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Bento Layout */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10\">\r\n        {/* Progress Bento */}\r\n        <div className=\"lg:col-span-1 card card-primary flex flex-col justify-between p-8 shadow-xl shadow-[hsl(var(--primary))]/20\">\r\n          <div>\r\n            <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] opacity-80 mb-1\">Overall Progress</div>\r\n            <div className=\"text-5xl font-black mb-4\">{progress.percentage}%</div>\r\n          </div>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"h-2 w-full bg-white/20 rounded-full overflow-hidden\">\r\n              <div\r\n                className=\"h-full bg-white transition-all duration-1000 ease-out\"\r\n                style={{ width: `${progress.percentage}%` }}\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-between items-end\">\r\n              <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] opacity-80\">\r\n                {progress.completed} / {progress.total} Tasks\r\n              </div>\r\n              <div className=\"text-xs font-medium bg-white/20 px-2 py-1 rounded-lg\">\r\n                Phase: Execution\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* DevOps Bento */}\r\n        <div className=\"lg:col-span-2 card p-0 overflow-hidden flex flex-col md:flex-row\">\r\n          <div className=\"flex-1 p-8 flex flex-col justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 text-[10px] font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2\">\r\n                <span className=\"text-lg\">ÔÜÖ´©Å</span> DevOps Path\r\n              </div>\r\n              <h3 className=\"text-2xl font-bold mb-1\">Learning Mastery</h3>\r\n              <p className=\"text-sm text-[hsl(var(--text-secondary))]\">Accelerate your infrastructure & cloud engineering skills.</p>\r\n            </div>\r\n            <div className=\"mt-6 flex items-center gap-6\">\r\n              <div>\r\n                <div className=\"text-2xl font-black text-[hsl(var(--text-primary))]\">{videoStats.percentage}%</div>\r\n                <div className=\"text-[10px] font-bold uppercase tracking-wider text-[hsl(var(--text-muted))]\">Complete</div>\r\n              </div>\r\n              <div className=\"h-8 w-px bg-[hsl(var(--border-color))]\" />\r\n              <div>\r\n                <div className=\"text-2xl font-black text-[hsl(var(--text-primary))]\">{Math.floor(videoStats.minutesWatched / 60)}h</div>\r\n                <div className=\"text-[10px] font-bold uppercase tracking-wider text-[hsl(var(--text-muted))]\">Watched</div>\r\n              </div>\r\n              <button\r\n                onClick={() => setActivePanel(activePanel === 'devopsPath' ? 'none' : 'devopsPath')}\r\n                className=\"ml-auto btn btn-primary px-6 h-12 rounded-xl text-sm\"\r\n              >\r\n                {activePanel === 'devopsPath' ? 'Close Path' : 'Continue Path'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-full md:w-48 bg-[hsl(var(--bg-darker))] flex items-center justify-center border-l border-[hsl(var(--border-color))] p-6\">\r\n            <div className=\"relative w-24 h-24\">\r\n              <svg className=\"w-full h-full transform -rotate-90\">\r\n                <circle className=\"text-[hsl(var(--border-color))]\" strokeWidth=\"8\" stroke=\"currentColor\" fill=\"transparent\" r=\"40\" cx=\"48\" cy=\"48\" />\r\n                <circle className=\"text-[hsl(var(--primary))]\" strokeWidth=\"8\" strokeDasharray={251.2} strokeDashoffset={251.2 - (251.2 * videoStats.percentage) / 100} strokeLinecap=\"round\" stroke=\"currentColor\" fill=\"transparent\" r=\"40\" cx=\"48\" cy=\"48\" />\r\n              </svg>\r\n              <div className=\"absolute inset-0 flex items-center justify-center text-sm font-bold\">\r\n                {videoStats.percentage}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {activePanel === 'devopsPath' && (\r\n        <div className=\"mb-10\">\r\n          <DevOpsPathPanel\r\n            onClose={() => setActivePanel('none')}\r\n            refresh={loadVideoData}\r\n            openModal={openModal}\r\n            videoProgress={videoProgress}\r\n            videoStats={videoStats}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Task Feed */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-10\">\r\n        <div className=\"lg:col-span-7 space-y-8\">\r\n          <section>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n                ­ƒôï Routine & Focus\r\n              </h2>\r\n              <div className=\"h-px flex-1 bg-[hsl(var(--border-color))] mx-6\" />\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              {incompleteMainTasks.length > 0 ? (\r\n                incompleteMainTasks.map(task => (\r\n                  <TaskCard\r\n                    key={task.id}\r\n                    task={task}\r\n                    videoProgress={videoProgress}\r\n                    onToggle={() => handleToggleTask(task.id, task.completed)}\r\n                    onAddNote={() => {\r\n                      setSelectedTask(task);\r\n                      openModal(<NoteForm task={task} onClose={closeModal} />);\r\n                    }}\r\n                    onViewNotes={() => {\r\n                      setSelectedTask(task);\r\n                      setActivePanel('notes');\r\n                    }}\r\n                    onLogVideo={(videoId) => {\r\n                      openModal(<LogMinutesForm videoId={videoId} onClose={closeModal} currentProgress={videoProgress.find(p => p.videoId === videoId)} />);\r\n                    }}\r\n                    nextVideo={nextVideo}\r\n                    isOptional={isFreelanceMode && (task.category === 'Freelancing' || task.category === 'Lead')}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <div className=\"flex flex-col items-center justify-center py-12 px-6 border-2 border-dashed border-[hsl(var(--border-color))] rounded-3xl bg-[hsl(var(--card-bg))]/50\">\r\n                  <div className=\"text-4xl mb-4\">Ô£¿</div>\r\n                  <h3 className=\"font-bold text-lg\">Morning Routine Mastered</h3>\r\n                  <p className=\"text-sm text-[hsl(var(--text-muted))] text-center mt-1\">Consistency is the bridge between goals and accomplishment.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Completed / Archived Today */}\r\n          {completedMainTasks.length > 0 && (\r\n            <section className=\"opacity-60 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-500\">\r\n              <h3 className=\"text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-4 px-2\">Archive Today</h3>\r\n              <div className=\"space-y-3\">\r\n                {completedMainTasks.map(task => (\r\n                  <TaskCard\r\n                    key={task.id}\r\n                    task={task}\r\n                    videoProgress={videoProgress}\r\n                    onToggle={() => handleToggleTask(task.id, task.completed)}\r\n                    onAddNote={() => {\r\n                      setSelectedTask(task);\r\n                      openModal(<NoteForm task={task} onClose={closeModal} />);\r\n                    }}\r\n                    onViewNotes={() => {\r\n                      setSelectedTask(task);\r\n                      setActivePanel('notes');\r\n                    }}\r\n                    isOptional={isFreelanceMode && (task.category === 'Freelancing' || task.category === 'Lead')}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </section>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"lg:col-span-5\">\r\n          <section className={`card p-8 border-2 transition-all duration-700 ${!isRoutineComplete ? 'border-transparent bg-[hsl(var(--bg-darker))]' : 'border-[hsl(var(--primary))]/10'}`}>\r\n            <div className=\"flex items-center justify-between mb-8\">\r\n              <div>\r\n                <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n                  ­ƒÄ» Expansion Tasks\r\n                </h2>\r\n                <p className=\"text-xs text-[hsl(var(--text-muted))] font-medium mt-1\">Incremental wins & sub-projects</p>\r\n              </div>\r\n              {isRoutineComplete && (\r\n                <button\r\n                  onClick={() => openModal(<SubTaskForm onClose={closeModal} />)}\r\n                  className=\"w-10 h-10 bg-[hsl(var(--primary))] text-white flex items-center justify-center rounded-xl shadow-lg shadow-[hsl(var(--primary))]/20 hover:scale-105 transition-transform\"\r\n                >\r\n                  +\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {!isRoutineComplete ? (\r\n              <div className=\"flex flex-col items-center justify-center py-10 text-center space-y-4\">\r\n                <div className=\"w-16 h-16 rounded-full bg-white flex items-center justify-center text-3xl shadow-sm\">­ƒöÆ</div>\r\n                <div>\r\n                  <h3 className=\"font-bold text-[hsl(var(--text-primary))]\">Zone Locked</h3>\r\n                  <p className=\"text-[10px] font-bold uppercase tracking-widest text-[hsl(var(--text-muted))] mt-2 px-10\">Complete your morning routine to unlock expansion tasks.</p>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {incompleteSubTasks.length > 0 ? (\r\n                  incompleteSubTasks.map(task => (\r\n                    <TaskCard\r\n                      key={task.id}\r\n                      task={task}\r\n                      videoProgress={videoProgress}\r\n                      onToggle={() => handleToggleTask(task.id, task.completed)}\r\n                      onAddNote={() => {\r\n                        setSelectedTask(task);\r\n                        openModal(<NoteForm task={task} onClose={closeModal} />);\r\n                      }}\r\n                      onViewNotes={() => {\r\n                        setSelectedTask(task);\r\n                        setActivePanel('notes');\r\n                      }}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <div className=\"text-center py-10 text-[hsl(var(--text-muted))] border border-dashed border-[hsl(var(--border-color))] rounded-2xl\">\r\n                    Ready for expansion? Add your first sub-task.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          {activePanel === 'notes' && selectedTask && (\r\n            <div className=\"mt-10 animate-in slide-in-from-bottom-6 duration-500\">\r\n              <NotesPanel task={selectedTask} onClose={() => setActivePanel('none')} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4\" onClick={closeModal}>\r\n          <div className=\"bg-[hsl(var(--bg-dark))] border border-white/20 rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl\" onClick={(e) => e.stopPropagation()}>\r\n            {modalContent}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TaskCard({ task, onToggle, onAddNote, onViewNotes, onLogVideo, nextVideo, isOptional, videoProgress }: {\r\n  task: Task;\r\n  onToggle: () => void;\r\n  onAddNote: () => void;\r\n  onViewNotes: () => void;\r\n  onLogVideo?: (videoId: string) => void;\r\n  nextVideo?: Video | null;\r\n  isOptional?: boolean;\r\n  videoProgress: VideoProgress[];\r\n}) {\r\n  const isDevOpsVideo = task.category === 'DevOps' && task.title.toLowerCase().includes('video');\r\n  const nextVideoProgress = isDevOpsVideo && nextVideo ? videoProgress.find(p => p.videoId === nextVideo.id) : null;\r\n  const minutesWatched = nextVideoProgress?.minutesWatched || 0;\r\n\r\n  return (\r\n    <div className={`group p-5 bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] rounded-2xl hover:border-[hsl(var(--primary))]/30 hover:shadow-md transition-all duration-300 ${task.completed ? 'opacity-60 grayscale' : ''}`}>\r\n      <div className=\"flex items-start gap-4\">\r\n        <button\r\n          onClick={onToggle}\r\n          className={`w-6 h-6 rounded-lg border-2 flex items-center justify-center flex-shrink-0 transition-all mt-1 ${task.completed\r\n            ? 'bg-[hsl(var(--primary))] border-[hsl(var(--primary))] shadow-sm'\r\n            : 'border-[hsl(var(--border-color))] hover:border-[hsl(var(--primary))]'\r\n            }`}\r\n        >\r\n          {task.completed && <span className=\"text-white text-xs font-bold\">Ô£ô</span>}\r\n        </button>\r\n\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className={`text-lg transition-all flex items-center gap-2 ${task.completed ? 'line-through text-[hsl(var(--text-muted))]' : 'font-bold text-[hsl(var(--text-primary))]'}`}>\r\n            {task.title}\r\n            {isOptional && !task.completed && (\r\n              <span className=\"text-[10px] font-bold uppercase tracking-widest px-2 py-0.5 bg-[hsl(var(--text-muted))]/10 text-[hsl(var(--text-muted))] rounded-full border border-[hsl(var(--border-color))]\">\r\n                Optional\r\n              </span>\r\n            )}\r\n          </div>\r\n          {task.description && (\r\n            <div className={`text-sm mt-1 leading-relaxed ${task.completed ? 'text-[hsl(var(--text-muted))]' : 'text-[hsl(var(--text-secondary))]'}`}>\r\n              {task.description}\r\n            </div>\r\n          )}\r\n\r\n          {isDevOpsVideo && nextVideo && (\r\n            <div className=\"mt-5 p-4 bg-[hsl(var(--bg-dark))] rounded-xl border border-[hsl(var(--border-color))]\">\r\n              <div className=\"flex justify-between items-center mb-3\">\r\n                <div className=\"text-xs font-bold text-[hsl(var(--primary))] uppercase tracking-wider\">Next: {nextVideo.title}</div>\r\n                <div className=\"text-[10px] font-bold text-[hsl(var(--text-muted))]\">{minutesWatched}m / {nextVideo.duration}m</div>\r\n              </div>\r\n              <div className=\"w-full h-1.5 bg-[hsl(var(--border-color))] rounded-full overflow-hidden mb-4\">\r\n                <div\r\n                  className=\"h-full bg-[hsl(var(--primary))] transition-all duration-700\"\r\n                  style={{ width: `${Math.round((minutesWatched / nextVideo.duration) * 100)}%` }}\r\n                />\r\n              </div>\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => onLogVideo?.(nextVideo.id)}\r\n                  className=\"flex-1 text-[10px] font-bold uppercase tracking-widest py-2 bg-[hsl(var(--primary))]/10 hover:bg-[hsl(var(--primary))] hover:text-white text-[hsl(var(--primary))] rounded-lg transition-all\"\r\n                >\r\n                  Log Session\r\n                </button>\r\n                <a\r\n                  href={nextVideo.url}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"flex-1 text-[10px] font-bold uppercase tracking-widest py-2 bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] text-center rounded-lg transition-all hover:bg-[hsl(var(--bg-dark))] text-[hsl(var(--text-secondary))]\"\r\n                >\r\n                  Watch\r\n                </a>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-2 flex-wrap items-center mt-4\">\r\n            <span className={`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-md border ${CATEGORY_STYLES[task.category]}`}>\r\n              {CATEGORY_ICONS[task.category]} {task.category}\r\n            </span>\r\n            <button\r\n              onClick={onAddNote}\r\n              className=\"text-[10px] font-bold uppercase tracking-wider px-2 py-1 text-[hsl(var(--text-muted))] hover:text-[hsl(var(--text-primary))] transition-colors\"\r\n            >\r\n              + Add Note\r\n            </button>\r\n            {/* Note indicator managed by NotesPanel linkage for now, could restore count if needed from db fetch but useProductivity fetches all notes so we can filter */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Notes Panel\r\nfunction NotesPanel({ task, onClose }: { task: Task; onClose: () => void }) {\r\n  const { notes, loadAll } = useProductivity();\r\n  const taskNotes = notes.filter(n => n.taskId === task.id);\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (confirm('Delete this note?')) {\r\n      await db.deleteNote(id);\r\n      loadAll();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card p-8 animate-in fade-in slide-in-from-right-4 duration-300\">\r\n      <div className=\"flex justify-between items-start mb-8\">\r\n        <div>\r\n          <h3 className=\"text-2xl font-black tracking-tight\">­ƒôØ Reflections</h3>\r\n          <p className=\"text-sm text-[hsl(var(--text-secondary))] mt-1\">Context for: {task.title}</p>\r\n        </div>\r\n        <button onClick={onClose} className=\"w-8 h-8 flex items-center justify-center rounded-full hover:bg-[hsl(var(--bg-dark))] transition-colors text-xl\">├ù</button>\r\n      </div>\r\n\r\n      {taskNotes.length > 0 ? (\r\n        <div className=\"space-y-4\">\r\n          {taskNotes.map(note => (\r\n            <div key={note.id} className=\"p-4 bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] rounded-2xl group transition-all relative group\">\r\n              <button\r\n                onClick={() => handleDelete(note.id)}\r\n                className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 text-red-500 text-xs font-bold\"\r\n              >\r\n                Delete\r\n              </button>\r\n              <div className=\"flex justify-between items-start mb-1\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"text-xl\">{NOTE_TYPE_ICONS[note.type]}</span>\r\n                  <div className=\"text-[10px] font-bold text-[hsl(var(--primary))] uppercase tracking-widest\">{note.type.replace(/([A-Z])/g, ' $1').trim()}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-sm font-medium leading-relaxed\">{note.content}</div>\r\n              <div className=\"text-[10px] font-bold text-[hsl(var(--text-muted))] uppercase tracking-tighter mt-4 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"w-1.5 h-1.5 rounded-full bg-[hsl(var(--border-color))]\" />\r\n                  {new Date(note.createdAt).toLocaleString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"py-12 text-center text-[hsl(var(--text-muted))] bg-[hsl(var(--bg-dark))] rounded-3xl border border-dashed border-[hsl(var(--border-color))]\">\r\n          Capture your first thought for this task.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Note Form (Unified)\r\nfunction NoteForm({ task, video, onClose }: { task?: Task; video?: Video; onClose: () => void }) {\r\n  const [content, setContent] = useState('');\r\n  const [timestamp, setTimestamp] = useState('');\r\n  const [type, setType] = useState<NoteType>(\r\n    (task?.category === 'DevOps' || video) ? 'DevOps' : 'General'\r\n  );\r\n  const [videoName, setVideoName] = useState(video?.title || '');\r\n  const { loadAll } = useProductivity();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!content.trim()) return;\r\n\r\n    await db.addNote({\r\n      id: crypto.randomUUID(),\r\n      taskId: task?.id,\r\n      type,\r\n      content: content.trim(),\r\n      timestamp: timestamp || undefined,\r\n      videoName: videoName || video?.title || undefined,\r\n      createdAt: new Date().toISOString()\r\n    });\r\n\r\n    loadAll();\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-3xl font-black tracking-tight\">Capture Insight</h2>\r\n        <p className=\"text-[hsl(var(--text-secondary))] mt-1\">\r\n          {video ? `Learning from: ${video.title}` : task ? `Context for: ${task.title}` : 'Universal Thought'}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"space-y-6 text-left\">\r\n        <section>\r\n          <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-4 ml-1\">Taxonomy</label>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n            {(['General', 'DevOps', 'AiAutomation', 'AppIdea', 'Improvement', 'SocialMedia', 'Career'] as NoteType[]).map((t) => (\r\n              <button\r\n                key={t}\r\n                type=\"button\"\r\n                onClick={() => setType(t)}\r\n                className={`flex items-center gap-2 p-3 rounded-xl border text-[10px] font-bold uppercase tracking-wider transition-all ${type === t\r\n                  ? 'bg-[hsl(var(--primary))]/10 border-[hsl(var(--primary))] text-[hsl(var(--primary))]'\r\n                  : 'bg-[hsl(var(--bg-dark))] border-[hsl(var(--border-color))] text-[hsl(var(--text-secondary))] hover:border-[hsl(var(--text-muted))]'\r\n                  }`}\r\n              >\r\n                <span className={type === t ? '' : 'grayscale'}>{NOTE_TYPE_ICONS[t]}</span>\r\n                <span className=\"truncate\">{t.replace(/([A-Z])/g, ' $1').trim()}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </section>\r\n\r\n        {(type === 'DevOps' || video) && (\r\n          <section className=\"grid grid-cols-2 gap-4 animate-in slide-in-from-top-4 duration-500\">\r\n            <div>\r\n              <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">Video Source</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"input-field h-12 rounded-xl\"\r\n                placeholder=\"e.g., K8s Internals\"\r\n                value={videoName}\r\n                onChange={e => setVideoName(e.target.value)}\r\n                readOnly={!!video}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">Marker</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"input-field h-12 rounded-xl\"\r\n                placeholder=\"e.g., 24:05\"\r\n                value={timestamp}\r\n                onChange={e => setTimestamp(e.target.value)}\r\n              />\r\n            </div>\r\n          </section>\r\n        )}\r\n\r\n        <section>\r\n          <label className=\"block text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2 ml-1\">Articulation</label>\r\n          <textarea\r\n            autoFocus\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            className=\"textarea-field min-h-[250px] text-lg leading-relaxed rounded-2xl\"\r\n            placeholder=\"Synthesize the core insight...\"\r\n            required\r\n          />\r\n        </section>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4 pt-4 border-t border-white/5\">\r\n        <button type=\"button\" onClick={onClose} className=\"btn bg-[hsl(var(--bg-dark))] h-14 rounded-2xl font-bold uppercase text-xs tracking-widest border border-[hsl(var(--border-color))] hover:bg-[hsl(var(--border-color))] transition-all\">Discard</button>\r\n        <button type=\"submit\" className=\"btn btn-primary h-14 rounded-2xl font-bold uppercase text-xs tracking-widest shadow-lg shadow-[hsl(var(--primary))]/20 transition-all\">Commit Insight</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n// DevOps Path Panel\r\nfunction DevOpsPathPanel({ onClose, refresh, openModal, videoProgress, videoStats }: {\r\n  onClose: () => void;\r\n  refresh: () => void;\r\n  openModal: (content: React.ReactNode) => void;\r\n  videoProgress: VideoProgress[];\r\n  videoStats: {\r\n    totalMinutes: number;\r\n    minutesWatched: number;\r\n    totalVideos: number;\r\n    videosCompleted: number;\r\n    percentage: number;\r\n  };\r\n}) {\r\n\r\n  return (\r\n    <div className=\"card p-10 bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] shadow-xl animate-in zoom-in-95 duration-500\">\r\n      <div className=\"flex justify-between items-start mb-10\">\r\n        <div>\r\n          <div className=\"flex items-center gap-2 text-xs font-bold uppercase tracking-[0.2em] text-[hsl(var(--primary))] mb-2\">\r\n            ÔÜÖ´©Å Full Curriculum Progress\r\n          </div>\r\n          <h3 className=\"text-4xl font-black tracking-tighter\">Infrastructure Mastery</h3>\r\n        </div>\r\n        <button onClick={onClose} className=\"w-10 h-10 flex items-center justify-center rounded-xl bg-[hsl(var(--bg-dark))] hover:bg-[hsl(var(--border-color))] transition-colors text-2xl\">├ù</button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12\">\r\n        {[\r\n          { label: 'Total Mastery', value: `${videoStats.percentage}%` },\r\n          { label: 'Modules Ready', value: `${videoStats.videosCompleted}` },\r\n          { label: 'Hours Remaining', value: `${Math.round((videoStats.totalMinutes - videoStats.minutesWatched) / 60)}h` },\r\n          { label: 'Time Invested', value: `${Math.round(videoStats.minutesWatched / 60)}h` }\r\n        ].map((stat, i) => (\r\n          <div key={i} className=\"p-6 bg-[hsl(var(--bg-dark))] rounded-2xl border border-[hsl(var(--border-color))]\">\r\n            <div className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-[hsl(var(--text-muted))] mb-2\">{stat.label}</div>\r\n            <div className=\"text-3xl font-black text-[hsl(var(--text-primary))]\">{stat.value}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"space-y-4 max-h-[600px] overflow-y-auto pr-4 custom-scrollbar text-left\">\r\n        {DEVOPS_LEARNING_PATH.map((video) => {\r\n          const progress = videoProgress.find((p: VideoProgress) => p.videoId === video.id) || { videoId: video.id, minutesWatched: 0, completed: false, lastWatched: new Date().toISOString() };\r\n\r\n          // Determine if next: first incomplete\r\n          const isNext = videoProgress.find((p: VideoProgress) => p.videoId === video.id)?.completed ? false : true;\r\n          // Needs better logic for \"next\", but for visual simple check:\r\n          // A better \"next\" check is if all previous are done.\r\n          // For now, simpler: just highlight if not done.\r\n\r\n          const percent = Math.round((progress.minutesWatched / video.duration) * 100);\r\n\r\n          return (\r\n            <div\r\n              key={video.id}\r\n              className={`p-6 rounded-3xl transition-all border ${progress.completed\r\n                ? 'bg-[hsl(var(--status-completed)/0.05)] border-[hsl(var(--status-completed)/0.1)]'\r\n                : 'bg-[hsl(var(--bg-dark))] border-[hsl(var(--border-color))] opacity-90'\r\n                }`}\r\n            >\r\n              <div className=\"flex flex-col md:flex-row justify-between gap-4\">\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-3 mb-3\">\r\n                    <span className=\"w-8 h-8 rounded-lg bg-[hsl(var(--primary))] text-white flex items-center justify-center text-xs font-black\">{video.order}</span>\r\n                    <span className=\"text-[10px] font-bold text-[hsl(var(--primary))] uppercase tracking-[0.2em]\">{video.category}</span>\r\n                  </div>\r\n                  <h4 className=\"text-lg font-bold flex items-center gap-3\">\r\n                    {video.title}\r\n                    {progress.completed && <span className=\"w-5 h-5 rounded-full bg-green-500 text-white flex items-center justify-center text-[10px]\">Ô£ô</span>}\r\n                  </h4>\r\n                </div>\r\n                <div className=\"flex md:flex-col items-center md:items-end justify-between md:justify-center\">\r\n                  <div className=\"text-xl font-black\">{percent}%</div>\r\n                  <div className=\"text-[10px] font-bold text-[hsl(var(--text-muted))] uppercase tracking-widest\">{progress.minutesWatched} / {video.duration} min</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"w-full h-1.5 bg-[hsl(var(--border-color))] rounded-full overflow-hidden my-6\">\r\n                <div\r\n                  className={`h-full transition-all duration-1000 ${progress.completed ? 'bg-green-500' : 'bg-[hsl(var(--primary))]'}`}\r\n                  style={{ width: `${percent}%` }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"flex gap-3\">\r\n                  <a\r\n                    href={video.url}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-xs font-bold bg-[hsl(var(--card-bg))] border border-[hsl(var(--border-color))] px-4 py-2.5 rounded-xl hover:bg-[hsl(var(--bg-dark))] transition-all\"\r\n                  >\r\n                    Watch Lesson\r\n                  </a>\r\n                  {!progress.completed && (\r\n                    <button\r\n                      onClick={() => openModal(<LogMinutesForm videoId={video.id} onClose={() => { refresh(); }} currentProgress={progress} />)}\r\n                      className=\"text-xs font-bold bg-[hsl(var(--primary))] text-white px-4 py-2.5 rounded-xl hover:scale-105 transition-all shadow-md shadow-[hsl(var(--primary))]/10\"\r\n                    >\r\n                      Log Time\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    onClick={() => openModal(<NoteForm video={video} onClose={() => { refresh(); }} />)}\r\n                    className=\"text-xs font-bold bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] px-4 py-2.5 rounded-xl hover:text-[hsl(var(--primary))] transition-all flex items-center gap-2\"\r\n                  >\r\n                    ­ƒôô Add Note\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Log Minutes Form\r\nfunction LogMinutesForm({ videoId, onClose, currentProgress }: { videoId: string; onClose: () => void; currentProgress?: VideoProgress }) {\r\n  const [minutes, setMinutes] = useState('25');\r\n  const video = DEVOPS_LEARNING_PATH.find(v => v.id === videoId);\r\n  const { loadAll } = useProductivity();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const min = parseInt(minutes);\r\n    if (isNaN(min) || min <= 0) return;\r\n    if (!video) return;\r\n\r\n    // Logic: fetch current, add minutes, save.\r\n    // Or we use the passed in currentProgress.\r\n\r\n    const currentMinutes = currentProgress?.minutesWatched || 0;\r\n    const newMinutes = currentMinutes + min;\r\n    const isCompleted = newMinutes >= video.duration;\r\n    const clampedMinutes = Math.min(newMinutes, video.duration);\r\n\r\n    await db.saveVideoProgress({\r\n      videoId,\r\n      minutesWatched: clampedMinutes,\r\n      completed: isCompleted,\r\n      lastWatched: new Date().toISOString()\r\n    });\r\n\r\n    loadAll();\r\n    onClose();\r\n  };\r\n\r\n  if (!video) return null;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      <div className=\"text-center mb-6\">\r\n        <div className=\"text-xs font-bold text-[hsl(var(--primary))] uppercase tracking-widest mb-1\">{video.category}</div>\r\n        <h2 className=\"text-2xl font-bold\">{video.title}</h2>\r\n        <div className=\"text-sm text-[hsl(var(--text-muted))] mt-2 text-center\">\r\n          Current Progress: <span className=\"font-bold text-white\">{currentProgress?.minutesWatched || 0}</span> / {video.duration} minutes\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-4 bg-[hsl(var(--bg-dark))] border border-[hsl(var(--border-color))] rounded-2xl\">\r\n        <label className=\"block text-sm font-semibold mb-3 text-center\">How many minutes watched today?</label>\r\n        <div className=\"flex items-center justify-center gap-4\">\r\n          {['15', '25', '45', '60'].map((m) => (\r\n            <button\r\n              key={m}\r\n              type=\"button\"\r\n              onClick={() => setMinutes(m)}\r\n              className={`w-12 h-12 rounded-xl flex items-center justify-center transition-all font-bold ${minutes === m\r\n                ? 'bg-[hsl(var(--primary))] text-white scale-110 shadow-lg shadow-[hsl(var(--primary))]/20'\r\n                : 'bg-white/5 hover:bg-white/10 text-[hsl(var(--text-muted))]'\r\n                }`}\r\n            >\r\n              {m}\r\n            </button>\r\n          ))}\r\n          <input\r\n            type=\"number\"\r\n            value={minutes}\r\n            onChange={(e) => setMinutes(e.target.value)}\r\n            className=\"w-16 h-12 bg-white/5 border border-white/10 rounded-xl text-center font-bold focus:border-[hsl(var(--primary))] outline-none transition-all\"\r\n            placeholder=\"Min\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-3\">\r\n        <button type=\"button\" onClick={onClose} className=\"btn btn-secondary flex-1\">Cancel</button>\r\n        <button type=\"submit\" className=\"btn btn-primary flex-1\">Save Progress</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\n// Sub Task Creation Form\r\nfunction SubTaskForm({ onClose }: { onClose: () => void }) {\r\n  const [title, setTitle] = useState('');\r\n  const [category, setCategory] = useState<TaskCategory>('DevOps');\r\n  const { loadTasks } = useProductivity();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!title.trim()) return;\r\n\r\n    await db.addTask({\r\n      id: crypto.randomUUID(),\r\n      title: title.trim(),\r\n      category,\r\n      completed: false,\r\n      isSubTask: true,\r\n      priority: 'low',\r\n      date: getTodayString()\r\n    } as Task);\r\n\r\n    loadTasks();\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n      <div className=\"text-center mb-4\">\r\n        <h2 className=\"text-2xl font-bold font-outfit text-gradient\">Add Sub To-Do</h2>\r\n        <p className=\"text-[hsl(var(--text-secondary))] text-sm\">Incremental improvements for today</p>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        <div className=\"text-left\">\r\n          <label className=\"block text-xs font-bold uppercase tracking-widest text-[hsl(var(--text-muted))] mb-2 ml-1\">\r\n            Task Description\r\n          </label>\r\n          <input\r\n            autoFocus\r\n            type=\"text\"\r\n            className=\"input-field\"\r\n            placeholder=\"e.g., Polish the login animation...\"\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"text-left\">\r\n          <label className=\"block text-xs font-bold uppercase tracking-widest text-[hsl(var(--text-muted))] mb-2 ml-1\">\r\n            Category\r\n          </label>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {(['DevOps', 'Project', 'Freelancing', 'OnlinePresence', 'AINews', 'Lead', 'Portfolio', 'Reflection'] as TaskCategory[]).map(cat => (\r\n              <button\r\n                key={cat}\r\n                type=\"button\"\r\n                onClick={() => setCategory(cat)}\r\n                className={`flex items-center gap-2 px-3 py-2 rounded-xl border text-xs transition-all ${category === cat\r\n                  ? 'bg-[hsl(var(--primary))]/10 border-[hsl(var(--primary))]/30 text-[hsl(var(--primary))]'\r\n                  : 'bg-white/5 border-white/5 hover:border-white/10 text-[hsl(var(--text-secondary))]'\r\n                  }`}\r\n              >\r\n                <span>{CATEGORY_ICONS[cat]}</span>\r\n                <span>{cat}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-3 pt-4 border-t border-white/5\">\r\n        <button type=\"button\" onClick={onClose} className=\"btn btn-secondary flex-1\">Cancel</button>\r\n        <button type=\"submit\" className=\"btn btn-primary flex-1\">Add Task</button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\projects\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\signup\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\app\\tutorial\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\components\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\components\\ThemeToggle.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\components\\ThemeToggle.tsx:12:13\n  10 |         if (savedTheme && savedTheme !== theme) {\n  11 |             // eslint-disable-next-line react-hooks/set-state-in-effect\n> 12 |             setTheme(savedTheme);\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  13 |         }\n  14 |     }, [theme]);\n  15 |","line":12,"column":13,"nodeType":null,"endLine":12,"endColumn":21,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\components\\WorkspaceLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\hooks\\useVibeCode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\lib\\models.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\lib\\storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\HatimMEFTAHI\\Desktop\\stay-productive\\proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
